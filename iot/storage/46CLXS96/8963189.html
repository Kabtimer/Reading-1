<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Expanding a LoRaWAN network for cost efficiency improvement</title>
    <!--[if lt IE 9]>
    <script src="https://lup.lub.lu.se/student-papers/search/assets/js/html5.js"></script>
    <![endif]-->
    <link rel="stylesheet" media="all" href="select2.css">
    <link rel="stylesheet" media="all" href="prettify.css">
    <link rel="stylesheet" media="all" href="screen-1.css">

    
    <!--[if lt IE 8]>
    <style type="text/css">
      input.button[type="submit"], button.button { border: none !important; }
      .button-append .button { height:30px; vertical-align:middle; }
      .button img { vertical-align: baseline; }
      nav > ul.horizontal, .short ul.horizontal { margin-right: -0.3em; }
      .search-form a, form.inline .button { margin-left: 0.3em; }
      .pagination li.prev, .pagination li.next { top: -2px; margin-right: -0.3em; }
      .select2-container-multi .select2-choices .select2-search-choice { padding-top: 1px; line-height: 16px; }
    </style>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon-precomposed" media="screen and (resolution: 326dpi)" href="https://lup.lub.lu.se/student-papers/search/assets/img/logo_ios_114.png">
    <link rel="apple-touch-icon-precomposed" media="screen and (resolution: 163dpi)" href="https://lup.lub.lu.se/student-papers/search/assets/img/logo_ios_57.png">
    <link rel="apple-touch-icon-precomposed" media="screen and (resolution: 132dpi)" href="https://lup.lub.lu.se/student-papers/search/assets/img/logo_ios_72.png">
    <link rel="search" type="application/opensearchdescription+xml" href="https://lup.lub.lu.se/student-papers/search/opensearch">
    <link rel="unapi-server" type="application/xml" href="https://lup.lub.lu.se/student-papers/search/unapi">
    <link rel="alternate" type="application/rss+xml" title="Biblio hourly" href="https://lup.lub.lu.se/student-papers/search/feed/hourly">
    <link rel="alternate" type="application/rss+xml" title="Biblio daily" href="https://lup.lub.lu.se/student-papers/search/feed/daily">
    <link rel="alternate" type="application/rss+xml" title="Biblio weekly" href="https://lup.lub.lu.se/student-papers/search/feed/weekly">
    <link rel="alternate" type="application/rss+xml" title="Biblio monthly" href="https://lup.lub.lu.se/student-papers/search/feed/monthly">
	
    <script type="text/javascript" charset="utf-8" src="jquery.js"></script>
    <script type="text/javascript" charset="utf-8" src="select2.js"></script>
    
    
    <!-- highwire press meta tags -->
    <meta name="citation_title" content="Expanding a LoRaWAN network for cost efficiency improvement">
    <meta name="citation_author" content="Jurado Cortes, Eva">
    <meta name="citation_publication_date" content="2018">    
    <meta name="citation_pdf_url" content="http://lup.lub.lu.se/student-papers/record/8963189/file/8963190.pdf">
    <meta name="citation_pdf_url" content="http://lup.lub.lu.se/student-papers/record/8963189/file/8963376.pdf">
    <!-- eprints meta tags -->
    <meta name="eprints.official_url" content="http://lup.lub.lu.se/student-papers/record/8963189">
    <meta name="eprints.title" content="Expanding a LoRaWAN network for cost efficiency improvement">
    <meta name="eprints.creators_name" content="Jurado Cortes, Eva">
    <meta name="eprints.date" content="2018">
    <meta name="eprints.document_url" content="http://lup.lub.lu.se/student-papers/record/8963189/file/8963190.pdf">
    <meta name="eprints.document_url" content="http://lup.lub.lu.se/student-papers/record/8963189/file/8963376.pdf">
    <!--dc meta tags -->
    <meta name="dc.creator" content="Jurado Cortes, Eva">
    <meta name="dc.date" content="2018">
    <meta name="dc.format" content="application/pdf">
    <meta name="dc.identifier" content="http://lup.lub.lu.se/student-papers/record/8963189">
    <meta name="dc.identifier" content="http://lup.lub.lu.se/student-papers/record/8963189/file/8963190.pdf">
    <meta name="dc.language" content="eng">
    <meta name="dc.rights" content="info:eu-repo/semantics/openAccess">
    <meta name="dc.subject" content="Technology and Engineering">
    <meta name="dc.subject" content="LoRaWAN">
    <meta name="dc.subject" content="IoT">
    <meta name="dc.subject" content="optimization">
    <meta name="dc.title" content="Expanding a LoRaWAN network for cost efficiency improvement">
    <meta name="dc.type" content="studentPaper">
    <meta name="dc.type" content="H2">
    <meta name="dc.type" content="text">
    <!-- end meta tags -->
    <link rel="canonical" href="https://lup.lub.lu.se/student-papers/search/publication/8963189">
    <link rel="alternate" href="https://lup.lub.lu.se/student-papers/search/publication/8963189.xls" title="Excel - common fields" type="application/vnd.ms-excel">
    <link rel="alternate" href="https://lup.lub.lu.se/student-papers/search/publication/8963189.xls2" title="Excel - all fields" type="application/vnd.ms-excel">
    <link rel="alternate" href="https://lup.lub.lu.se/student-papers/search/publication/8963189.csv" title="CSV - common fields" type="text/csv">
    <link rel="alternate" href="https://lup.lub.lu.se/student-papers/search/publication/8963189.csv2" title="CSV - all fields" type="text/csv">
    <link rel="alternate" href="https://lup.lub.lu.se/student-papers/search/publication/8963189.bibtex" title="BibTeX" type="text/x-bibtex">
    <link rel="alternate" href="https://lup.lub.lu.se/student-papers/search/publication/8963189.ris" title="RIS (reference software)" type="application/x-research-info-systems">
    <link rel="alternate" href="https://lup.lub.lu.se/student-papers/search/publication/8963189.enw" title="End Note (RIS)" type="application/x-research-info-systems">

  </head>
  <body lang="en">
    <div id="godwrapper">
    <div class="topwrapper"> 
      <div class="topheader">
	      <ul>
	        <li>
	           <a href="http://www.lu.se/">LUND UNIVERSITY</a>
	        </li>
	        <li>
	           <a href="http://www.lub.lu.se/">LUND UNIVERSITY LIBRARIES</a>
	        </li>
	      </ul>
      </div>
    </div>
    
    <div class="wrapper">

      
      <div class="luheader">
        <div class="logo"><img src="logo_lu_nolabel.png" alt="Lund University"></div>
        <div class="headerbox">
        <h1><a href="https://lup.lub.lu.se/student-papers/search">LUP Student Papers</a></h1>
        <h2>LUND UNIVERSITY LIBRARIES</h2>
        </div>
        <nav><ul class="horizontal">
          <li><a href="https://lup.lub.lu.se/luur" target="_blank">Register publications</a></li>
          
          <li class="divider">|</li>
          <li><a href="http://lup.lub.lu.se/lupStat?org=_all&amp;type=sp" target="_blank">Statistics</a></li>
          
          <li class="divider">|</li>
          <li><a href="https://lup.lub.lu.se/student-papers/search/marked">Marked list</a> <a class="total-marked label" href="https://lup.lub.lu.se/student-papers/search/marked">0</a></li>
          <li class="divider">|</li>
          <li><a href="https://lup.lub.lu.se/student-papers/search/saved-searches">Saved searches</a> <a class="total-saved-searches label" href="https://lup.lub.lu.se/student-papers/search/saved-searches">0</a></li>
        </ul></nav>
      </div>
      
    <div style="width: 100%; background-color: #dce9ee; height: 85px;"></div>
      <header>
        <form action="https://lup.lub.lu.se/student-papers/search/simple_search" method="get" class="search-form">
  <div class="button-append"><input name="q" placeholder="new  search" type="text"><button class="button" type="submit"><img src="magnifying_glass_12x12.png"></button></div>
  <a href="https://lup.lub.lu.se/student-papers/search/advanced-search" class="small">Advanced</a>
</form>

        <ul class="tab-nav large">
          <li><a href="https://lup.lub.lu.se/student-papers/search">Home</a></li>
          <li class="divider">|</li>
          <li class="tab-active"><a href="https://lup.lub.lu.se/student-papers/search/publication?sort=publicationstatus.desc&amp;sort=year.desc">Publications</a></li>
          <li class="divider">|</li>
          <li><a href="https://lup.lub.lu.se/student-papers/search/organization">Departments</a></li>
          
        </ul>
      </header>
      <div class="content" itemscope="" itemtype="http://schema.org/CreativeWork">
        <ul class="plain wide hide" id="messages">
</ul>

        <header class="short">
  <h3 class="title" id="8963189" itemprop="name">Expanding a LoRaWAN network for cost efficiency improvement</h3>
  
<span class="authors"><span class="contributor vcard">
<a class="url" href="https://lup.lub.lu.se/student-papers/search/publication?q=author+exact+ev4782ju-s" target="_parent"><span class="fn">Jurado Cortes, Eva</span></a>
<sup><span style="font-size:80%;" class="label label-plain locality">LU</span></sup>
</span>

</span>

  
(<span class="year"><a href="https://lup.lub.lu.se/student-papers/search/publication?q=publishingYear+exact+2018" target="_parent">2018</a></span>)




<a href="https://lup.lub.lu.se/student-papers/search/publication?q=course+exact+EITM02">EITM02</a>&nbsp;20181


<br><a href="https://lup.lub.lu.se/student-papers/search/organization/v1000242">Department of Electrical and Information Technology</a>


  <ul class="horizontal r">    <li><a class="mark button button-tiny button-gray" href="#" data-marked="0" data-id="8963189">Mark</a></li>
  </ul>
  <dl style="margin-top:12px;">
  </dl>
</header>
<aside>
  <div class="section">
    <ul class="list">
              
      <li>
        <div>
          <a href="http://lup.lub.lu.se/student-papers/record/8963189/file/8963190.pdf" title="Report_-_Eva_Jurado_Cortes.pdf"><img class="b shadow" src="thumbnail.png" width="252"></a>
        </div>
        <ul class="openAccess-access horizontal tiny">
          <li>
            <a href="http://lup.lub.lu.se/student-papers/record/8963189/file/8963190.pdf" title="Report_-_Eva_Jurado_Cortes.pdf" style="font-weight:bold;color:#5f821f;">Open Access</a>
            
          </li>
          <li class="divider">|</li>
          <li><a href="http://lup.lub.lu.se/student-papers/record/8963189/file/8963190.pdf" title="Report_-_Eva_Jurado_Cortes.pdf" class="plain">PDF</a></li>
          <!-- file size removed until we have any to display
          <li class="divider">|</li>
          <li><a href="http://lup.lub.lu.se/student-papers/record/8963189/file/8963190.pdf" title="Report_-_Eva_Jurado_Cortes.pdf" class="plain">TODO: FILE SIZE? 13 bytes</a></li>
          -->
        </ul>
      </li>        
      <li>
        <div>
          <a href="http://lup.lub.lu.se/student-papers/record/8963189/file/8963376.pdf" title="Rapp_673.pdf"><img class="b shadow" src="thumbnail_002.png" width="252"></a>
        </div>
        <ul class="openAccess-access horizontal tiny">
          <li>
            <a href="http://lup.lub.lu.se/student-papers/record/8963189/file/8963376.pdf" title="Rapp_673.pdf" style="font-weight:bold;color:#5f821f;">Open Access</a>
            
          </li>
          <li class="divider">|</li>
          <li><a href="http://lup.lub.lu.se/student-papers/record/8963189/file/8963376.pdf" title="Rapp_673.pdf" class="plain">PDF</a></li>
          <!-- file size removed until we have any to display
          <li class="divider">|</li>
          <li><a href="http://lup.lub.lu.se/student-papers/record/8963189/file/8963376.pdf" title="Rapp_673.pdf" class="plain">TODO: FILE SIZE? 13 bytes</a></li>
          -->
        </ul>
      </li>
    </ul>
  </div>
  <!-- start links div -->
  <div class="box">
    <h4 class="box-header">Links</h4>
    <ul class="plain small">
      
      <li><a href="http://lup.lub.lu.se/lupStat/record/8963189" target="_blank"><strong>Document download statistics</strong></a></li>
      
      <!-- doi -->
      <!-- end doi -->
      <!-- alternative location -->
      <!-- end alternative location -->
      <!-- SFX link is hidden until ready -->
      <!-- end SFX link -->
      <!-- google scholar -->
      <!-- end google scholar -->
      <!-- external identifier ISI -->
      <!-- end external identifier -->
    </ul>
  </div>
  <!-- end links div -->

</aside>

  <div class="alert small">
    Please use this url to cite or link to this publication:
    <a href="http://lup.lub.lu.se/student-papers/record/8963189" target="_parent" itemprop="url">http://lup.lub.lu.se/student-papers/record/8963189</a>
  </div>

  <ul class="tab-nav">
    <li class="tab-active tabbable"><a href="#details">Details</a></li>
    <li class="tabbable"><a href="#bibtex">BibTeX</a></li>
  </ul>

  <div class="tab-content tab-active" id="details">
    <dl class="horizontal">
      <dt>author</dt>
      <dd><span class="contributor vcard">
<a class="url" href="https://lup.lub.lu.se/student-papers/search/publication?q=author+exact+ev4782ju-s" target="_parent"><span class="fn" itemprop="name">Jurado Cortes, Eva</span></a>
<sup><span style="font-size:80%;" class="label label-plain locality">LU</span></sup></span>


</dd>
      <dt>supervisor</dt>
      <dd>
      	  <ul class="plain">      	                <li>
              	<a href="https://lup.lub.lu.se/student-papers/search/publication?q=supervisor+exact+eit-ble" itemprop="uri"><span class="fn">Björn Landfeldt</span></a>
              	<sup><span style="font-size:80%;" class="label label-plain locality">LU</span></sup>
              </li>
          </ul>
      </dd>
       
      <dt>organization</dt>
      <dd>
          <ul class="plain">
              <li itemprop="sourceOrganization" itemscope="" itemtype="http://schema.org/Organization"><a href="https://lup.lub.lu.se/student-papers/search/organization/v1000242" itemprop="uri"><span itemprop="name">Department of Electrical and Information Technology</span></a></li>
          </ul>
      </dd>

	  
	  
      <dt>course</dt>
  	  <dd><a href="https://lup.lub.lu.se/student-papers/search/publication?q=course+exact+EITM02">EITM02</a> 20181</dd>
	        
      <dt>year</dt>
      <dd itemprop="datePublished">2018</dd>
      <dt>type</dt>
      <dd>
	    	H2 - Master's Degree (Two Years)
      </dd>
      <dt>subject</dt>
      <dd>
          <ul class="plain"> 
              <li><a href="https://lup.lub.lu.se/student-papers/search/publication?q=subject+exact+tee">Technology and Engineering</a></li>
          </ul>
      </dd>
      <dt>keywords</dt>
      <dd itemprop="keywords"><a href="https://lup.lub.lu.se/student-papers/search/publication?q=keywords+exact+%22LoRaWAN%22">LoRaWAN</a>, <a href="https://lup.lub.lu.se/student-papers/search/publication?q=keywords+exact+%22IoT%22">IoT</a>, <a href="https://lup.lub.lu.se/student-papers/search/publication?q=keywords+exact+%22optimization%22">optimization</a></dd>
       
            
      <dt>report number</dt>
      <dd>LU/LTH-EIT 2018-673</dd>      
      
      <dt>language</dt>
      <dd><a href="https://lup.lub.lu.se/student-papers/search/publication?q=language+exact+eng" itemprop="inLanguage">English</a></dd>
      <dt>id</dt>
      <dd>8963189</dd>
      <!-- removing handle until we have handles.
      <dt>handle</dt>
      <dd><a href="http://hdl.handle.net/1854/LU-8963189" target="_parent">http://hdl.handle.net/1854/LU-8963189</a></dd>
      -->
      <dt>date added to LUP</dt>
      <dd>2018-11-22 16:48:52</dd>
      <dt>date last changed</dt>
      <dd>2018-11-22 16:48:52</dd>
    </dl>
  </div>

  <div class="tab-content" id="bibtex">
    <pre>@misc{8963189,
  author       = {Jurado Cortes, Eva},
  keyword      = {LoRaWAN,IoT,optimization},
  language     = {eng},
  note         = {Student Paper},
  title        = {Expanding a LoRaWAN network for cost efficiency improvement},
  year         = {2018},
}

</pre>
  </div>


      </div>
    </div>
      <div class="footerwrapper">
        <footer>
          <ul class="plain r">
            <li><a href="https://lup.lub.lu.se/student-papers/search/doc/spguide">User guide</a></li>
            <!--<li><a href="https://lup.lub.lu.se/student-papers/search/doc/api">Download &amp; API</a></li>-->
            <li><a href="https://lup.lub.lu.se/student-papers/search/contact">Contact</a></li>
          </ul>
          Built with <a href="http://librecat.org/">LibreCat&nbsp;<img src="librecat.png" width="30" height="30" align="bottom"></a>
        </footer>
      </div>
    <script type="text/javascript" charset="utf-8">
	
	
		function yearRangeToCQL(field, val) {
		  str = $.trim(val);
		  str = str.replace(/[^0-9\-<>= ]/g,' ');
		  str = str.replace(/[ ][ ]+/g,' ');
		
		  var q = '';	  
		  var matches;
		  
		  if (str.match(/^- *[1-9][0-9]{3}$/))
		  	str = str.replace('-', '<=');
		  if (str.match(/^[1-9][0-9]{3} *-$/))
		  	str = str.replace('-', '>=');

		  if (matches = str.match(/^[1-9][0-9]{3}$/)) {
		  	q = field+' = '+matches[0];
		  }	else if( matches = /^([1-9][0-9]{3}) *- *([1-9][0-9]{3})$/.exec(str)) {
		    if (parseInt(matches[1]) > parseInt(matches[2]))
		    	return "";
		  	q = field + ' >= ' + matches[1] + ' and ' + field + ' <= ' + matches[2];
		  } else if( matches = /^([><=])(=)? *([1-9][0-9]{3})$/.exec(str) ) {
		    q = field +' '+ matches[1] + ((matches[2] && matches[1]!= '=') ? '=' : '') +' '+ matches[3]; 
		  } 

		  return q; 
		}
		
		
		function validate_range(val) {
			var check = yearRangeToCQL('x', val);
		 	if (check.length > 0) 
		 		return [{id: val, text: val}];
		 	else return [];
		}
	
	
	
        // tab-nav
        $('.tab-nav').each(function() {
          var tabs      = $(this),
              activeTab = tabs.children(':first'),
              content   = $(activeTab.children('a:first').attr('href'));

          tabs.on('click', '.tabbable a', function(evt) {
            evt.preventDefault();

            activeTab.removeClass('tab-active');
            content.removeClass('tab-active');
            activeTab = $(this).parent().addClass('tab-active');
            content   = $($(this).attr('href')).addClass('tab-active');
          });
        });

        // select
        $('.select').each(function() {
          var select = $(this);
          var params = {minimumResultsForSearch: 15};
          params.separator = ' ';
          if (select.data('separator'))
             params.separator = select.data('separator'); 
          if (select.data('min-input-length'))
             params.minimumInputLength = parseInt(select.data('min-input-length'), 0);
          if (select.data('allow-clear'))
            params.allowClear = true;
          if (select.data('multiple'))
            params.multiple = true;
          if (select.data('ranges')) {
            params.separator = ',';
            params.formatNoMatches = function (term) { return "Enter a valid year/year range. Examples: 2003  |  2003-2005  |  -2005  |  >2005  |  <=1995" };
            params.formatSearching =  function () { return "Validating..." };
            params.formatInputTooShort = function () { return "Enter a valid year/year range. Examples: 2003  |  2003-2005  |  -2005  |  >2005  |  <=1995" };
			params.query = function (query) {
			    var data = {results: []};
				var check = yearRangeToCQL('x', query.term)
		 		if (check.length > 0) {
		 			 data.results.push({id: query.term, text: query.term});
		        } else {
		        }
				query.callback(data);
			}
          }
          if (select.data('minimum-results-for-search'))
            params.minimumResultsForSearch = parseInt(select.data('minimum-results-for-search'), 10);
          if (select.data('createSearchChoice'))
            params.createSearchChoice = select.data('createSearchChoice');
          if (select.data('bag-name')) {
            params.bagName = select.data('bag-name');
            params.ajax = {
              url: 'https://lup.lub.lu.se/student-papers/search/list_find?bag='+select.data('bag-name'),
              type: 'GET',
              data: function (term, page) {
              	 return {
					query: term, // search term
			     }
              },
              dataType: 'json',
              results: function(data, page) {
                   return {results: data.entries};
              }
            };            
          }
          select.select2(params);
        });

        var baseURL = 'https://lup.lub.lu.se/student-papers/search',
            embedParams = {},
            searchParams = {"sort":[],"q":[]};

        var escapeHTML = function(text) {
          return text.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
        };        
                

        // alerts
        var showAlertMessage = function(type, message) {
          var msg = $('<li class="alert '+type+'"><a class="close" href="#">Close</a>'+escapeHTML(message)+'</li>');
          msg.on('click', '.close', function(evt) {
            evt.preventDefault();
            msg.remove();
            if (!$('#messages li').length) $('#messages').hide(); // empty list retains height in ie6-7

          });
          $('#messages').append(msg).show();
        };

        // search
//        $('.search-form').submit(function() {
//          var input = $(this).find(':input[name=q]');
//          var q = input.val();
//          if (q.length) {
//            q = $.trim(q.replace(/"/g, ''));
//            q = '"'+q+'"';
//            input.val(q);
//          }
//        });

        // search options
        $('.search-option a').click(function(evt) {
            evt.preventDefault();
            var target = $($(this).attr('href'));
            if (target.hasClass('search-option-active')) {
              target.removeClass('search-option-active').hide();
            } else {
              $('.search-option-active').removeClass('search-option-active').hide();
              target.addClass('search-option-active').show();
            }
        });
        $('.search-option-close').click(function(evt) {
          evt.preventDefault();
          $(this).closest('.search-option-active').removeClass('search-option-active').hide();
        });

        // search facets
        $('select.search-facet').change(function() {
          var select = $(this),
              index  = select.data('index'),
              term   = select.val();
          if (term.match(/\s/)) {
            term = '"'+term+'"';
          }
          searchParams.q.push(index+' exact '+term);
          delete searchParams.start;
          var url = baseURL + '/publication?' + $.param($.extend({}, embedParams, searchParams), true);
          window.location.replace(url);
        });

        // save search
        $('a.save-search').click(function(evt) {
            evt.preventDefault();
            var params = $.extend({}, searchParams);
            delete params.start;
            $.ajax({
              traditional: true,
              type: 'POST',
              url: 'https://lup.lub.lu.se/student-papers/search/saved-searches',
              data: params,
              dataType: 'json',
              success: function(res) {
                $('.total-saved-searches').text(res.total);
              }
            });
        });

        // mark
        $('a.mark-all').click(function(evt) {
            evt.preventDefault();
            var params = $.extend({}, searchParams);
            delete params.start;
            delete params.limit;
            $.ajax({
              traditional: true,
              type: 'POST',
              url: 'https://lup.lub.lu.se/student-papers/search/marked',
              data: params,
              dataType: 'json',
              success: function(res) {
                $('.total-marked').text(res.total);
                if (res.message) {
                  showAlertMessage(res.ok ? 'info' : 'warning', res.message);
                }
                $('a.mark').data('marked', 1).text('Unmark');
                $('.unmarked-record').addClass( 'marked-record' ); 
                $('.unmarked-record').removeClass( 'unmarked-record' ); 
              }
            });
        });

        $('a.unmark-all').click(function(evt) {
            evt.preventDefault();
            $.post('https://lup.lub.lu.se/student-papers/search/marked?x-tunneled-method=DELETE', function(res) {
                window.location.replace("https://lup.lub.lu.se/student-papers/search/publication");
            }, 'json');
        });

        $('a.mark').click(function(evt) {
            evt.preventDefault();
            var a = $(this);
            var marked = a.data('marked');
            if (marked == 0) {
                $.post('https://lup.lub.lu.se/student-papers/search/marked/'+a.data('id'), function(res) {
                    $('.total-marked').text(res.total);
                    a.data('marked', 1).text('Unmark');
                    $('#'+a.data('id')).addClass( 'marked-record' );
                    $('#'+a.data('id')).removeClass( 'unmarked-record' );   
                }, 'json');
            } else {
                $.post('https://lup.lub.lu.se/student-papers/search/marked/'+a.data('id')+'?x-tunneled-method=DELETE', function(res) {
                    $('.total-marked').text(res.total);
                    a.data('marked', 0).text('Mark');
                    $('#'+a.data('id')).addClass( 'unmarked-record' );
                    $('#'+a.data('id')).removeClass( 'marked-record' );                   
                }, 'json');
            }
        });

        // embed
        $('.embed-style').change(function() {
          var style = $(this).val();
          if (style.length) {
            $('.embed-style-param').text('&amp;style='+style);
          } else {
            $('.embed-style-param').text('');
          }
        });
        $.each(['width', 'height'], function(i, param) {
          $('.embed-'+param).keyup(function() {
            $('.embed-'+param+'-value').text($(this).val());
          });
        });
        $.each(['pagination', 'info', 'options'], function(i, param) {
          $('.embed-hide-'+param).change(function() {
            $('.embed-hide-'+param+'-param').toggle();
          });
        });

        $('.embed-email').submit(function(evt) {
            evt.preventDefault();
            var snippet = $('.iframe-code').clone();
            $.each(['pagination', 'info', 'options'], function(i, param) {
              var el = snippet.find('.embed-hide-'+param+'-param');
              if (!$('.embed-hide-'+param).is(':checked')) el.remove();
            });
            var message = $.trim(snippet.text());
            snippet.remove();
            var btn = $(this).find('button');
            var btnText = btn.text();
            btn.text('Sending...');
            $.post(this.action, {
                email: this.elements['email'].value,
                subject: this.elements['subject'].value,
                message: message
            }, function(res) {
                btn.text('Sent!');
                window.setTimeout(function() {
                  btn.text(btnText);
                }, 1000);
            }, 'json');
        });

        // gravatar
        $('img.gravatar').each(function() {
            $(this).attr('src', $(this).data('gravatar-url'));
        });
    </script>
    </div>
  


</body></html>