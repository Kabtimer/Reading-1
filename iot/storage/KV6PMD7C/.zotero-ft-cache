This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
1
Hierarchical Radio Resource Allocation for Network Slicing in Fog Radio Access Networks
Yaohua Sun, Mugen Peng, Senior Member, IEEE, Shiwen Mao, Fellow, IEEE, and Shi Yan

Abstract—Network slicing in fog radio access networks (FRANs) is recognized as a cost-efﬁcient solution to support future diverse use cases. However, with the number of user equipments (UEs) fast increasing, the centralized resource allocation architecture for network slicing can put heavy burdens on the global radio resource manager (GRRM), and meanwhile slice customization is not easy to achieve. To overcome the two issues, a hierarchical radio resource allocation architecture is proposed in this paper, where the GRRM is responsible for allocating subchannels to local radio resource managers (LRRMs) in slices, which then allocate the assigned resources to their UEs. Under this architecture, a hierarchical resource allocation problem is formulated, and the problem is further modeled as a Stakelberg game with the GRRM as the leader and LRRMs as followers, considering the hierarchy between the GRRM and LRRMs. Due to the NP-hardness of the followers’ problems, a process based on exhaustive search is ﬁrst proposed to achieve the Stackelberg equilibrium (SE). Nevertheless, when the network scale is large, achieving SE within limited decision making time is impractical for game players. Facing this challenge, the GRRM and LRRMs are seen as bounded rational players, and low complexity algorithms are developed to help them achieve local optimal solutions that lead to a weak version of SE. Simulation results show that there exists a tradeoff between the performance of slices, and the low complexity algorithms achieve close performance to that of exhaustive search and outperform other baselines signiﬁcantly.
Index Terms—Fog radio access networks (F-RANs), network slicing, radio resource allocation, Stackelberg game
I. INTRODUCTION
To better satisfy future communication demands, fog radio access networks (F-RANs) are proposed to achieve high spectral efﬁciency, energy efﬁciency and low latency by fully utilizing the signal processing, resource management and storage capabilities of edge devices [1]. In F-RANs, a user equipment
Copyright (c) 2015 IEEE. Personal use of this material is permitted. However, permission to use this material for any other purposes must be obtained from the IEEE by sending a request to pubs-permissions@ieee.org.
Yaohua Sun (e-mail: sunyaohua@bupt.edu.cn) and Shi Yan (yanshi01@bupt.edu.cn) are with the Key Laboratory of Universal Wireless Communications (Ministry of Education), Beijing University of Posts and Telecommunications, Beijing, China. Mugen Peng (e-mail: pmg@bupt.edu.cn) is with the State Key Laboratory of Networking and Switching Technology (SKL-NST), Beijing University of Posts and Telecommunications, Beijing, China. Shiwen Mao (szm0001@auburn.edu) is with the Department of Electrical and Computer Engineering, Auburn University, Auburn, AL, USA. (Corresponding author: Mugen Peng.)
This work is supported in part by the State Major Science and Technology Special Project under 2017ZX03001025-006 and 2018ZX03001023-005, the National Natural Science Foundation of China under No. 61831002 and No. 61728101, the National Program for Special Support of Eminent Professionals, the National Science Foundation for Post-doctoral Scientists of China (Grant No. 2018M641279), and the US National Science Foundation under grant CNS-1702957.

(UE) can operate in different communication modes, including the centralized cloud-RAN mode and the fog access point (FAP) mode. Up to now, some interesting studies have been conducted on F-RANs, in terms of performance analysis [2], radio resource allocation [3], the joint design of cloud and edge processing [4], and so on.
On the other hand, as an emerging concept, network slicing is attracting more and more attentions, and is expected to be an efﬁcient and ﬂexible solution to support diverse application scenarios with different requirements. With network slicing, a physical network can be divided into multiple virtual networks, each of which is formed by a set of network functions and resources. When network slicing is conducted in an end-toend manner, the RAN part of a network slice is referred to as a RAN slice, whose performance is dependent on resource allocation. In current works addressing resource allocation for RAN slicing, a critical aspect is to achieve slice isolation between RAN slices [5], and two different ways are often adopted to achieve this goal. The ﬁrst one is allocating nonoverlapping resources to different slices [7]–[13], while the second one is ensuring the minimum performance of each slice [14]. By isolation, any change in one slice will have no impact or at least a little impact on the performance of other slices.
Owing to the fog computing, cloud computing and heterogenous networking, F-RANs have great potentials in meeting diverse demands. For example, FAPs that are equipped with edge caches can be utilized to support the scenario where low latency is preferred, while the cloud RAN, which beneﬁts from centralized signal processing and resource allocation [6], can be utilized in the scenario where high data rate is desired. Hence, in this paper, network slicing in F-RANs is considered, and resource allocation between two slices with different performance metrics is studied. Speciﬁcally, the aim of one slice is to minimize the content download latency, and the aim of the other one is to provide high data rate guarantee with minimal transmission power consumption. To alleviate the burdens on the global radio resource manager (GRRM) and achieve slice customization, a hierarchical radio resource allocation architecture is introduced, where the GRRM is responsible for allocating resources to each slice, and then the local radio resource manager (LRRM) in each slice allocates the assigned resources to its UEs. Under this architecture, a hierarchical resource allocation problem is formulated, which contains coupled subproblems, and the problem is further modeled as a Stackelberg game to produce a stable resource allocation outcome from which neither the GRRM nor the LRRM in each slice has incentive to deviate (i.e., to achieve the Stackelberg equilibrium (SE)).

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
2

A. Related Work and Challenges
Recently, some efforts have been made in resource allocation for network slicing in wireless networks. In [9], all the transmitters, including a base station (BS) and deviceto-device (D2D) transmitters, are sliced by a hypervisor to serve users. Considering the imperfect channel state information (CSI) observed by the hypervisor, the joint transmitter association, subchannel allocation and caching optimization is formulated as a discrete stochastic optimization problem aiming at maximizing the network utility, which is efﬁciently solved with discrete stochastic approximation. In [10], a mobile virtual network operator (MVNO) rents physical resources from multiple infrastructure providers (InPs) and divides these resources into multiple slices, each of which is composed of a BS and a subcarrier chunk. In [14], a downlink orthogonal frequency division multiple access based wireless network is considered, where multiple slices with multiple users coexist. To maximize the network sum rate, a joint BS assignment, subcarrier allocation and power allocation problem is investigated, where the impact of interference between slices is limited by guaranteeing the minimum user sum rate of each slice. To deal with this non-convex mixed-integer problem, successive convex approximation and complementary geometric programming are applied.
Although the proposed approaches in [9], [10], [14] can achieve good performance, allocating resources directly to all the users can put heavy burdens on the central controller, especially when the number of users is large. Meanwhile, by such centralized resource allocation, the customization of each slice, which means each slice can individually decide how to allocate available resources, cannot be easily achieved. To overcome these two issues, a hierarchical resource allocation architecture is adopted in [8], [13], where the resources are ﬁrstly allocated to each slice by a central controller, and then each slice allocates the assigned resources to its own users. Speciﬁcally, in [8], the resource allocation among slices is formulated as a hierarchical auction game, where slice isolation is achieved by allocating non-overlapping resources to slices. In the upper layer, the InP, acting as the seller as well as the auctioneer, divides the owned resources into multiple bundles, each of which includes subchannels, power and antennas, and each MVNO acts as a buyer who submits a bid for each resource bundle. In the lower layer, each MVNO acts as a seller with users acting as buyers. Similar to [8], an auction game is used to model the resource allocation to slices, where slices have the incentive to bid truthfully to compete for resource blocks.
In [15], the authors summarize two cases of using slices. The ﬁrst one is called Quality of Service Slicing, which is to support different services by creating dedicated slices, while the other is termed Infrastructure Sharing Slicing, which focuses on infrastructure sharing among multi-tenants. Unfortunately, the works [8], [13], together with [9]–[12], [14], all fail to explicitly consider the ﬁrst case, which is envisioned as a key characteristic of the ﬁfth generation mobile network. In addition, in works [8], [10]–[14], network slicing is done in the RANs that cannot well support diverse scenarios. For example,

the cellular networks with massive antennas considered in [8], [11] can well support hot spot areas, but the download latency can be large since the contents requested by the users need to be fetched from a remote content server. Therefore, network slicing in more advanced RANs should be investigated. To this end, network slicing is done in a downlink F-RAN in this paper. Speciﬁcally, one slice is a traditional C-RAN to provide high data rate, and the other slice is composed of FAPs with edge caching capabilities to provide low download latency. Under a hierarchical resource allocation architecture, resource allocation among slices is modeled as a Stackelberg game with the GRRM as the leader and LRRMs as followers, in which the GRRM ﬁrst allocates a set of subchannels to each LRRM and then each LRMM decides the resource allocation within its slice.
Previously, game theory has been widely applied to resource allocation problems in heterogenous networks [16]–[27]. In [16]–[19], coalitional game is adopted to model the cooperative behavior among BSs or users that have equal position, but this kind of game is not suitable for our problem, since there is hierarchy between the GRRM and LRRMs in terms of decision making. In [20]–[23], authors utilize Stackelberg game to design pricing schemes to control inter-tier interference between the leader/leaders and the follower/followers, which is not the focus of this paper. While in [24], [25], the leader, which is the macro BS in [24] and the relay node in [25], only cares about its own resource allocation. However, in our considered network slicing scenario, the leader, which is the GRRM, needs to optimize the resource allocation to each follower. In [26], the cloud as the leader directly allocates a set of serving nodes to each user, and the leader in [27], which is a cognitive BS, directly allocates the spectrum bought from primary networks to each user served by a femto BS. On the contrary, in our work, the GRRM as the leader does not allocate resources to each user directly. Instead, to meet the requirement of slice customization, the GRRM ﬁrst decides the resource allocation between slices, and then the resource allocation to each user is optimized by the LRRM in each slice. In addition, different from [20]–[27]. where the follower is a BS or a user, each follower in our problem is a resource manager of a slice consisting of multiple BSs and multiple users, and the strategy of each follower is the resource allocation for the whole slice. This unavoidably makes deriving the optimal strategy of each follower and SE more challenging. Particularly, the problem related to one LRRM is a mixed-integer nonlinear programming that is NPhard [28], [29] and the problem associated with the other LRRM is a non-convex problem with 0-1 variables that is also NP-hard [30].
B. Contributions and Organization
This paper proposes a Stakelberg game based approach to radio resource allocation for network slicing in a downlink FRAN to address the challenges incurred by slice customization and heterogenous slice performance requirements, which can achieve a stable allocation result. In the considered scenario, there exist two slices, namely slice s1 and s2. Speciﬁcally,

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
3

slice s1 aims to provide guaranteed high data rates with minimal transmission power consumption by centralized signal processing and resource allocation in the cloud, while slice s2 takes advantage of the edge caching capabilities of FAPs to minimize the content download latency. The main contributions of the paper are:
• To alleviate the burdens on the GRRM and achieve slice customization, a hierarchical radio resource allocation architecture is employed for network slicing in F-RANs. The GRRM is responsible for allocating radio resources to each slice, and then the LRRM in each slice allocates the assigned resources to its UEs. Under this architecture, a hierarchical resource allocation problem is formulated containing coupled subproblems, each of which relates to the GRRM or an LRRM. The objectives of LRRM 1 in slice s1 and LRRM 2 in slice s2 are to provide high data rate with minimal transmission power consumption and to minimize the download latency, respectively, while the GRRM aims to optimize the performance of slice s1 meanwhile guaranteeing the performance of slice s2.
• Considering the hierarchical decision making between the GRRM and LRRMs and the coupling of their strategies, the problem is further modeled as a Stakelberg game, where the GRRM serves as the leader and the two LRRMs are taken as followers. Moreover, the stable state of the game, i.e., SE, is deﬁned, and the existence as well as the uniqueness of the equilibrium are analyzed.
• Different from the Stackelberg game formulated in previous works where the follower is a BS or a user, each follower in our work is a resource manager of a slice consisting of multiple BSs and multiple users, which makes deriving the optimal strategy of each follower very challenging. Particularly, the problem related to LRRM 1 is an MINLP and the problem associated with LRRM 2 is a non-convex problem with 0-1 variables. Moreover, the strategy of the leader is discrete. Faced with the two issues, a process based on exhaustive search is introduced to achieve SE when the players are completely rational, and meanwhile low complexity algorithms are proposed as well for the case where the GRRM and LRRMs are bounded rational. Furthermore, the complexity and optimality of all the proposals are rigorously analyzed and simulation is conducted to demonstrate their effectiveness.
The remainder of this paper is organized as follows. Section II describes the downlink F-RAN with two slices. Section III formulates the related optimization problem, and Section IV presents a Stackelberg game based approach to ﬁnd SE. Section V develops low complexity resource allocation algorithms for bounded rational GRRM and LRRMs, and simulation results are presented in Section VI, followed by the conclusions in Section VII.
II. SYSTEM MODEL
In this section, the model of a downlink F-RAN is ﬁrstly provided. We then present the models for the two slices.

Fronthaul

LRRM 1

GRRM

Information exchange


Centralized signal processing and resource
allocation

RRH 5

RRH 4

LRRM 2
UE 1 FAP 1 FAP 3

UE 1 RRH 3

UE 2 RRH 1 RRH 2

Slice s1

Cache UE 3 Slice s2

UE 2 FAP 2
FAP 4 UE 4

Fig. 1. Network slicing in a downlink F-RAN with a hierarchical resource allocation architecture.

A. Network Slicing in a Downlink F-RAN
The downlink F-RAN shown in Fig. 1 consists of one cloud, multiple remote radio heads (RRHs), multiple FAPs and multiple D2D transmitters. The F-RAN is divided into two slices, s1 and s2, which intend to provide high data rate guarantee and low download latency, respectively. Note that high data rate can be achieved by taking advantage of centralized signal processing and resource allocation in the cloud, while content downloading latency can be reduced by utilizing the caching capabilities of FAPs. Hence, slice s1 is allocated with a cloud and K RRHs whose set is denoted by K = {1, 2, ..., K}, with each RRH equipped with N antennas. Slice s2 is allocated with L single-antenna FAPs, whose set is denoted as L = {1, 2, ..., L}. It should be highlighted that although ﬂexible slice conﬁguration is supported by network slicing, infrastructure conﬁguration is usually done over a large time scale [31], which should take the slice performance metrics and the budget of customers into account, while subchannel allocation is performed over a smaller time scale to adapt to the radio environment. In this paper, subchannel allocation for network slicing is studied, assuming that the infrastructure conﬁguration of slices is ﬁxed and cooperative transmission is only applied in slice s1. Denote the set of UEs with single antenna served by slice s1 and s2 as Ms1 = {1, 2, ..., Ms1} and Ms2 = {1, 2, ..., Ms2}, respectively. The set of available subchannels in the system is denoted by D = {1, 2, ..., D}, and each of them is with bandwidth B.
To alleviate the burden on the GRRM and achieve slice customization, a hierarchical radio resource allocation architecture is adopted, which consists of a GRRM and two LRRMs. Speciﬁcally, the GRRM is responsible for allocating subchannels to slices based on only the performance feedback from LRRMs and some coarse information about slices, while the LRRM in each slice is responsible for allocating the assigned resources to its UEs. Under this setting, the resource allocation solution space of the GRRM is greatly reduced, which does not depend on the network scale in each slice. In addition, the GRRM does not need to gather global CSI and each LRRM can determine its own resource allocation strategy. In the following, the LRRM in slice s1 and the LRRM in slice s2 are named as LRRM 1 and LRRM 2, respectively. For the sake of slice isolation, the GRRM allocates slice s1 and s2 with disjoint sets of subchannels denoted by Ds1 and

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
4

Ds2, respectively. Note that the GRRM and LRRMs can be implemented in software running on computing platforms. For example, LRRM 1 can be located in the powerful servers in the cloud, while LRRM 2 can be deployed at an FAP with high edge computing capability and backhaul links of good quality that help collect system information from other connected FAPs. Finally, the GRRM can be run in the slice orchestration entity deﬁned in [32].
B. The Slice s1 Model
In slice s1, each UE is assumed to be allocated with a subchannel, and each subchannel can be reused by multiple UEs. For UE ms1,j ∈ Ms1, its received signal is written as

data rate of UE ms2,j is given by

Rms2,j ,l,d =





 B log 1 +


pl hms2,j ,l,d 2



2

 

.



σ + p h 2

ms2,i∈MS2,d,i=j lms2,i

ms2,j ,lms2,i ,d



(4)

By involving a 0-1 indicator yms2,j,l,d, which equals to 1 if and only if UE ms2,j is served by FAP l over subchannel d,

the data rate of UE ms2,j can be expressed as

Rms2,j Ds2, yms2,j ,l,d =

y R . ms2,j ,l,d ms2,j ,l,d

d∈Ds2 l∈L
(5)

Then, the content download latency of UE ms2,j is given

by

cms1,j ,d =

h v x + H
ms1,j ,k,d ms1,j ,k,d ms1,j

k∈Kms1,j

h v x H
ms1,j ,k,d ms1,i,k,d ms1,i

tms2,j Ds2, yms2,j ,l,d


 =


sms2,j Rsm mss22,,jj Rms2,j

, when fms2,j is cached + βms2,j , otherwise,

at

F AP

l

serving

UE

ms2,j ,

ms1,i∈Ms1,i=j, wms1,i,k,d>0 k∈Kms1,i
k
+ zms1,j ,d, (1)
where xms1,i is the message of UE ms1,i, wms1,i,k,d is a

(6)
where sms2,j is the size of the content requested by UE ms2,j, and βms2,j is the latency needed for an FAP to download the requested ﬁle from the cloud via a fronthaul link.

0-1 indicator which equals to 1 when RRH k serves UE

ms1,i over subchannel d, Kms1,i is the set of RRHs satisfying

III. PROBLEM FORMULATION

wms1,i,k,d = 1, i.e., the set of RRHs serving UE ms1,i. In this section, under the hierarchical radio resource alloca-

wms1,i,k,d > 0 means that UE ms1,i is allocated with tion architecture, a radio resource allocation problem contain-

k
subchannel d. Furthermore, hms1,j,k,d is the channel vector between RRH k and UE ms1,j on subchannel d, vms1,j,k,d is

ing three subproblems is formulated, each of which relates to the GRRM or an LRRM.

the precoding vector of RRH k for UE ms1,j, and zms1,j,d is the noise which follows the distribution of CN 0, σ2 . Then A. Problem Formulation for LRRM 1

the data rate of UE ms1,j is calculated by equation (2).

By centralized signal processing and radio resource alloca-

tion in the cloud, the aim of slice s1 is to provide high data rate

guarantee with minimum transmission power consumption.

C. The Slice s2 Model

The optimization problem for LRRM 1 is formulated as follows:

For slice s2, it is assumed that each UE is allocated with one subchannel, but each subchannel can be reused by multiple UEs accessing different FAPs. Suppose that each UE ms2,j in slice s2 randomly requests a content fms2,j , and each FAP selects popular contents to cache. If desired contents are
cached at associated FAPs, UEs will be served locally avoiding
the latency induced by fetching contents from the cloud. For UE ms2,j, when it is served by an FAP l over subchannel d, its received signal is written as

cms2,j ,l,d = p h x l ms2,j ,l,d ms2,j

+
ms2,i ∈MS 2,d ,i=j

p h x + z , lms2,i ms2,j ,lms2,i ,d ms2,i

ms2,j ,d

(3)

where pl is the transmit power of FAP l on each subchannel,

which is assumed to be a constant value, hms2,j,l,d is the channel gain between UE ms2,j and FAP l over subchannel

d, and lms2,i denotes the FAP serving UE ms2,i. Hence, the

min

U1

{ } { } wms1,j ,k,d , vms1,j ,k,d

(a1)

wms1,j ,k,d

wms1,j ,k,d′ = 0, ∀ms1,j , ∀d,

k

d′=d k

(a2)

wms1,j ,k,d > 0, ∀ms1,j ,

dk

(a3) Rms1,j Ds1, wms1,j ,k,d , vms1,j ,k,d ≥ Rms1,j ,min,

∀ms1,j ,

(a4)

wms1,j ,k,d ≤ ok, ∀k,

ms1,j d∈Ds1

(a5)

w v ms1,j ,k,d ms1,j ,k,d

ms1,j d∈Ds1

2 2

≤

pmax,

(7)

where U1 =

wms1,j ,k,d
k ms1,j d∈Ds1

vms1,j,k,d 22. The ﬁrst

constraint states that once UE ms1,j is allocated with sub-

channel d, it will not be allocated with other subchannels.

The second constraint ensures that each UE must be allocated

with at least one subchannel, which, together with the ﬁrst

constraint, jointly states that each UE is allocated with one

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
5

Rms1,j Ds1, wms1,j ,k,d , vms1,j ,k,d = 


2

   B log 1 + 

h v H
ms1,j ,k,d ms1,j ,k,d k∈Kms1,j







(2)

2

. 

d∈Ds1, wms1,j ,k,d>0
k





 

ms1,i ∈Ms1 ,i=j,

h v wms1,i,k,d>0 k∈Kms1,i

H ms1,j ,k,d ms1,i,k,d

+ σ2  

k

subchannel. The third constraint is to provide high data rate guarantee. The fourth constraint is the fronthaul capacity constraint, which is enforced by limiting the maximal number of UEs that can be supported by a fronthaul link [33]. The last constraint is the transmit power constraint per RRH.

B. Problem Formulation for LRRM 2

Aiming to minimize the content download latency, the optimization problem for LRRM 2 is given by

1

{ min } U = t yms2,j ,l,d

2

Ms2 ms2,j ms2,j

Ds2,

yms2,j ,l,d

(b1)

yms2,j ,l,d = 1, ∀ms2,j ,

d∈Ds2 l

(b2)

yms2,j,l,d ≤ 1, ∀1 ≤ l ≤ L, ∀d ∈ Ds2,

(8)

ms2,j

(b3)

yms2,j,l,d ≤ q, ∀1 ≤ l ≤ L.

d∈Ds2 ms2,j

The ﬁrst constraint requires that each UE can be allocated with only one FAP and one subchannel. The second constraint guarantees that the UEs served by an FAP occupy orthogonal subchannels, and the third constraint together with constraint (b2) states that each FAP can serve at most q UEs due to the total transmission power constraints. Note that the second constraint implicity indicates that the maximal number of UEs that can be served by an FAP is also limited by the number of available subchannels of slice s2, i.e., |Ds2|, and tms2,j is affected by the content placement according to (6). Denote the set of contents potentially requested by UEs as F = {1, 2, ..., F } and deﬁne a content placement matrix Ω with the size of L × F where its element Ωl,f represents whether FAP l caches content f . In addition, the contents in F follow a certain popularity distribution like Zipf distribution, and the cache size of each FAP is Γ. Finally, performance metric in (8) can be calculated when contents have been cached at each FAP by caching the most popular Γ contents, and optimizing radio resource under ﬁxed content placement is reasonable, since content placement is generally adjusted on a large time scale [31].

C. Problem Formulation for the GRRM
As a global controller, the GRRM should take into account the performance of both slices. However, since the performance goals of the two slices can have conﬂict, minimizing both of them may not be realistic sometimes. Therefore, it is assumed that the GRRM aims to minimize the transmit power consumption of slice s1, while guaranteeing the download

latency performance of slice s2. The optimization problem is formulated as follows:

min U0 =
Ds1 ,Ds2

U1, if U2 ≤ Tmax Kpmax, otherwise

(c1) Ds1 ∪ Ds2 = D,

(9)

(c2) Ds1 ∩ Ds2 = φ,

(c3)

⌈

Ms2 L

⌉

≤

|Ds2|

≤

Ms2.

The ﬁrst constraint means the GRRM will allocate all the available subchannels to the two slices. The second constraint is used to avoid the interference between slices and hence slice isolation is guaranteed. The third constraint is to ensure that there is enough number of subchannels for the UEs in slice s2 considering the different degrees of subchannel reuse, where ⌈⌉ represents the ceiling function. Moreover, Tmax is the maximal tolerable latency of slice s2.
In the deﬁnition of the GRRM utility, the utility value is set to the maximal transmission power consumption of slice s1 as a punishment when the performance requirement of slice s2 is not met, which facilitates the GRRM to take the performances of both slices into account. Note that in the applications of game theory to wireless networks, the utilities of players are not always completely conﬂicting. For example, the utilities of players in a non-cooperative game can be identical and correspond to the global performance [34], and the cloud, as the leader in the concerned Stackelberg game in [27], intends to maximize the sum rate of all the users that are followers. Hence, the utility selection of the GRRM in our paper is reasonable.
At the end of this section, we highlight the difﬁculties of our work compared to literatures studying resource allocation in multi-tier heterogenous networks (HetNets), and note that each slice in our work can be seen as a tier in a HetNet. In [35], a distributed power adjustment algorithm is designed, and power allocation for a multi-tier network is also studied in [36]. However, the optimization of user-BS association and subchannel allocation is not considered in [35] and [36], which needs to be addressed in our work for both tiers. In [37], the bias factor of each tier for user association and the proportion of spectrum allocated to each tier are optimized based on stochastic geometry analysis. Nevertheless, stochastic geometry analysis can not help us to get exact resource allocation of each tier and each user based on instantaneous CSI. In [38] and [39], resource is directly allocated to each user. In our work, in addition to allocating resource to each user, which is performed by LRRMs, we also have to address the resource allocation between the considered two tiers, which has signiﬁcant impacts on the user resource allocation

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
6

result. In [40], bandwidth resource allocation refers to that each wireless service provider needs to decide the amount of bandwidth allocated to each tier of the heterogenous network it owns. However, the optimization of resource allocation to each user within each tier is lacked, which needs to be handled by LRRMs in this paper via solving an NP-hard resource allocation problem for each tier.
IV. A STACKELBERG GAME APPROACH
In this section, the formulated resource allocation problem is modeled as a Stackelberg game, and the existence and uniqueness of the SE are analyzed. In addition, a method based on exhaustive search is proposed to identify the existence of SE and ﬁnd SE (if SE exists) at the same time.

A. Stackelberg Game Formulation

The resource allocation problem formulated in the previous
section is a hierarchical optimization problem, where the
GRRM optimization problem is the upper level problem while
the LRRM optimization problems are lower level problems.
The upper level problem and lower level problems are tightly
coupled. Note that under the hierarchical resource allocation
architecture, the GRRM holds a strong position and each
LRRM can only react to its allocation result. Hence, inspired
by [41], the resource allocation problem is thereby naturally
formulated as a Stackelberg game taking the GRRM as the
leader and LRRMs as followers, where the equilibrium state
of the game, i.e., SE, can be adopted as the resource allocation
outcome from which neither the GRRM nor the LRRM in each
slice is willing to deviate for improved utility. The strategy of the GRRM with utility U0 is the resource
allocation among the two slices, i.e., Ds1 and Ds2, which can be further denoted by a 1 × D subchannel allocation vector d whose elements are 0-1 variables. Speciﬁcally, di = 1 means subchannel i is allocated to LRRM 1, and di = 0 means subchannel i is allocated to LRRM 2. The strategy of LRRM 1 with utility U1 is the resource allocation among the UEs in slice s1, i.e., wms1,j ,k,d and vms1,j,k,d . wms1,j ,k,d can be further denoted by a 1 × Ms1K |Ds1| vector w, where each element relates to a wms1,j,k,d. The strategy of LRRM 2 with utility U2 is the resource allocation among the UEs in slice s2, i.e., yms2,j,l,d , which is further denoted by a 1×Ms2L |Ds2| vector y, where each element relates to a yms2,j,l,d.
After clarifying the strategies and utilities of the players, the
stable state of the formulated game is given by the following
deﬁnition that follows reference [41]. Deﬁnition 1: The strategy d∗ is an SE strategy for the
leader, i.e., the GRRM, if

U0

d∗,

w∗,

v∗
ms1,j ,k,d

, yd∗∗
d∗

= min U0
d

d,

w∗,

v∗
ms1,j ,k,d

, yd∗ ,
d

(10)

where

w∗,

v∗
ms1,j ,k,d

and yd∗ are the optimal strate-
d

gies of slice s1 and s2 reacting to the leader’s strategy

d, respectively. If there is such a d∗, d∗, together with

w∗,

v∗
ms1,j ,k,d

and yd∗∗ , constitutes an SE solution
d∗

to our considered hierarchical resource allocation game.

Although taking SE as the resource allocation outcome can inevitably result in the inefﬁciency. However, more efﬁcient algorithms like a fully centralized approach, which can further improve the utilities of all the players, may lose several beneﬁts, such as reducing the computation burden on the GRRM, avoiding the collection of CSI within each slice and easier intra-slice customization.
Next, the existence and uniqueness of the equilibrium are presented in the following theorem.
Theorem 1: If there exists a resource allocation strategy d of the GRRM, under which the constraints in (7), (8) and (9) hold at the same time, the Stackelberg game must have at least one SE.
Proof: When there does not exist a resource allocation strategy d of the GRRM under which the constraints in (7), (8) and (9) are satisﬁed simultaneously, there is no feasible d at all and hence no SE exists. On the contrary, we can always ﬁnd a feasible d satisfying (10) in Deﬁnition 1, and hence SE must exist. To identify the existence of SE and ﬁnd SE (if SE exists) at the same time, Algorithm 1 is presented in the next subsection. Speciﬁcally, at the beginning of Algorithm 1, the GRRM ﬁrst generates a set D′ of d meeting (c1), (c2) and (c3) in (9). If D′ is empty, Algorithm 1 terminates and there is no SE solution. If D′ is non-empty, the GRRM starts to try each d in D′. Once receiving a GRRM’s strategy d, each LRRM feeds back its optimal utility value to the GRRM if its problem under d is feasible. Otherwise, each LRRM feeds back a signaling indicating problem infeasibility. After receiving feebacks from both LRRMs, the GRRM adds current d to a set Q and records its achieved utility U0 (d) only if both LRRMs feed back their utility values. The process continues until all the d in D′ have been searched. Finally, if Q is empty, there is no SE solution. Otherwise, the SE strategy is derived as

d∗ = arg min U0∗ (d) ,

(11)

d∈Q

which, together with the corresponding optimal strategies of both LRRMs under d∗, constitutes the SE of the game.
However, the uniqueness of the SE is not guaranteed, since LRRM 1 not necessarily allocates all the assigned subchannels to its UEs and hence it is possible for two different subchannel allocation vectors d1 and d2 to lead to the same U0. When there exist multiple SEs, the SE with the best performance for LRRM 2 is selected to improve the efﬁciency of resource allocation.

B. The Solution of the Game
In the Stackelberg game, rational followers react optimally to the strategy of the leader. Here, ﬁnding the optimal strategies of LRRM 1 and 2 are equivalent to solving problem (7) and (8) optimally under a given d, respectively. In the following, we ﬁrst analyze problem (7) of LRRM 1.
When a w satisfying (a1), (a2) and (a4) is given, problem (7) can be simpliﬁed to the following precoding design

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
7

problem:

2

min
vms1,j ,k,dms1,j

ms1,j ∈Ms1 k

vms1,j ,k,dms1,j 2

(d1) Rms1,j ≥ Rms1,j ,min, ∀ms1,j ,

2

(d2)
ms1,j

vms1,j ,k,dms1,j

≤ pmax, ∀k,
2

(d3) vms1,j ,k,dms1,j = 0, if wms1,j ,k,dms1,j = 0,

(12)

where dms1,j denotes the subchannel allocated to UE ms1,j, and constraint (d3) states that if UE ms1,j is not associated with RRH k, the corresponding precoding vector is set to a zero vector. Note that constraint (d1) can be transformed into
a convex second order cone constraint by rotating the phase
of v , ms1,j,k,dms1,j which will not inﬂuence the objective and the constraints. Then, problem (12) can be further rewritten as

min
vms1,j ,k,dms1,j

ms1,j ∈Ms1 k

2
vms1,j ,k,dms1,j 2

(e1)

ms1,i,dms1,i =dms1,j

2

h v + σ H
ms1,j ,dms1,j ms1,i

2

≤

1

+

1 γms1,j

Re

h v H
ms1,j ,dms1,j ms1,j

, ∀ms1,j ,

(e2) Im

h v H
ms1,j ,dms1,j ms1,j

= 0, ∀ms1,j ,

2

(e3)
ms1,j

vms1,j ,k,dms1,j

≤ pmax, ∀k,
2

(e4) vms1,j ,k,dms1,j = 0, if wms1,j ,k,dms1,j = 0,

(13)

where

γms1,j

=

2 Rms1,j ,min B

−1

is

the

minimum

requirement

of the signal to interference plus noise ratio (SINR) of UE

m , h s1,j

ms1,j ,dms1,j

is the channel vector from all the RRHs

to UE ms1,j on subchannel dms1,j , and vms1,j is the network

wide precoding vector of UE ms1,j.

The above problem is convex that can be efﬁciently solved

by CVX. Then, the optimal strategy of LRRM 1 under a given

d can be got by an exhaustive search as follows. First, generate all the possible w that meet constraints (a1), (a2) and (a4).

Second, calculate the optimal power consumption by solving

problem (13) for each w. Then, the w leading to the minimum

power consumption, together with the corresponding optimal

precoding vector vms1,j,k,dms1,j , constitutes the optimal strategy of LRRM 1. As for LRRM 2, since its problem is

an integer programming, its optimal strategy is achieved by

an exhaustive search as well.

Based on the above analysis, the algorithm presented in

Algorithm 1 is introduced to ﬁnd the SE of the formulated

game. In Algorithm 1, the GRRM needs only some coarse information such as the number of UEs in slice s2 and the

performance feedbacks from the two LRRMs to search for its

optimal strategy, which avoids the collection of global CSI.

Meanwhile, the number of its possible resource allocation

strategies does not depend on the network scale of each slice.

Nevertheless, the algorithm possesses high complexity, espe-

cially for both LRRMs. For example, the exhaustive search complexity under a given d for LRRM 1 is O 2|Ds1|Ms1K ,

which is related to the number of the allocated subchannels

Algorithm 1 Algorithm based on exhaustive search to identify the existence of SE and ﬁnd SE (if SE exists)
1: Stage 1: The GRRM generates all possible d satisfying (c1), (c2) and (c3) in (9), whose set is denoted by D′, and initializes an empty set Q. If D′ is empty, Algorithm 1 terminates and there is no SE solution. Otherwise, go to Stage 2.
2: Stage 2: For each subchannel allocation strategy d ∈ D′ 1) The GRRM distributes strategy d to both LRRMs, and each LRRM reacts optimally based on exhaustive search. 2) If the corresponding problem is infeasible for the LRRM, the LRRM feeds back a signalling indicating problem infeasibility to the GRRM. Otherwise, the LRRM feeds back the value of its optimal utility to the GRRM. 3) When the utility values of both LRRMs are received, the GRRM adds the current d to Q and records its achieved utility denoted by U0 (d). End For
3: Stage 3: If Q is nonempty, d∗ = arg mind∈Q U0 (d), and d∗, together with the corresponding optimal strategies of both LRRMs, constitutes the SE of the game. If there are multiple SE strategies for the GRRM, the SE strategy leading to the minimum download latency of slice s2 is selected as the system operation point.
and the number of the UEs and RRHs of slice s1. Hence, if the network scale is large, it may be unrealistic for the LRRMs to get their optimal strategy within limited decision making time. Considering this fact, it is reasonable to regard the GRRM and LRRMs as players with bounded rationality that aim to ﬁnd satisfactory solutions instead of optimal ones. We will develop low complexity algorithms based on this setting in Section V.
V. LOW COMPLEXITY ALGORITHM DESIGN FOR GAME PLAYERS
In this section, low complexity algorithms are developed for both the GRRM and LRRMs to help them achieve local optimal solutions when they behave as players with bounded rationality who intend to ﬁnd satisfactory solutions within limited time for decision making.
A. Low Complexity Algorithm Design for LRRM 1
From problem (7), it can be seen that the main complexity lies in the optimization of wms1,j,k,d representing RRH association and subchannel allocation. Note that subchannel allocation is actually equivalent to identifying the subchannel sharing relationship among UEs, which can be considered from a coalitional game perspective. Speciﬁcally, each subchannel can correspond to a coalition, and the UE joining a certain coalition occupies the corresponding subchannel. A low complexity and effective approach to form a stable coalitional structure is to make UEs traverse coalitions based on the transfer order [42], and the deﬁnition of the order

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
8

depends on the system optimization objective. Since LRRM 1 aims at minimizing system transmit power consumption, it is assumed that a UE transfers from a coalition to another coalition if and only if the overall power consumption strictly decreases.
When the subchannel allocation is ﬁxed, the remaining task is to design a low complexity scheme to jointly optimize the UE-RRH association and precoding. To facilitate theoretical analysis, we deﬁne a UE-RRH association matrix E whose (j, k)-th element ems1,j,k is a 0-1 variable, which equals to 1 if UE ms1,j associates with RRH k and equals to 0 otherwise. Then, the problem of LRRM 1 under ﬁxed subchannel allocation is given by

min

{ } vms1,j ,k,dms1,j

ems1,j ,k ms1,j ∈Ms1 k

2
vms1,j ,k,dms1,j 2

(f 1)

ms1,i,dms1,i =dms1,j

2

h v + σ H
ms1,j ,dms1,j ms1,i

2

≤

1

+

1 γms1,j

Re

h v H
ms1,j ,dms1,j ms1,j

, ∀ms1,j ,

(f 2) Im

h v H
ms1,j ,dms1,j ms1,j

= 0, ∀ms1,j ,

2

(f 3)
ms1,j

vms1,j ,k,dms1,j

≤ pmax, ∀k,
2

(f 4)

ems1,j ,k ≤ ok, ∀k,

ms1,j

(f 5) vms1,j ,k,dms1,j = 0, if ems1,j ,k = 0,

(f 6) ems1,j,k ∈ {0, 1} .

(14)

To develop low complexity design for RRH association

and precoding, we ﬁrst analyze the characteristic of problem

(14). Speciﬁcally, deﬁne the feasible set of precoding for

problem (14) under association matrix E as VE, and the corresponding optimal power consumption is denoted by u∗E.
If an element ems1,j,k = 1 in E is set to 0 and the new association matrix is denoted as E−, we have VE− ⊆ VE and hence u∗E ≤ u∗E− . This means more active UE-RRH links
can contribute to a better slice performance, which motivates

us to introduce Algorithm 2 to have as many active links as

possible meanwhile keeping the feasibility of constraint (f 4)

of problem (14). The whole algorithm is mainly composed of

two parts. The ﬁrst part starts with activating all UE-RRH links

and gradually drops off weak links to satisfy fronthaul capacity

constraints including Stage 1-Stage 4, while the second part,

including Stage 5-Stage 6, tries to reactivate links dropped

off in the ﬁrst part. The metric to identify weak links, which

is called contribution index in the following, is given by

βms1,j ,k=

2

h v H
ms1,j ,k,dms1,j ms1,j ,k,dms1,j

2,

h v H
k′∈K ms1,j ,k′,dms1,j ms1,j ,k′,dms1,j

(15)

which shows the contribution of RRH k on the received signal strength of UE ms1,j. It should be highlighted that problem (14) is reduced to problem (13) under ﬁxed UERRH association. Therefore, under a ﬁxed association matrix meeting fronthaul capacity constraints (f 4) in (14), checking the feasibility of problem (14) is equivalent to checking the feasibility of problem (13). In other words, problem (14)

is feasible if and only if the association matrix satisﬁes fronthaul capacity constraints and meanwhile problem (13) is also feasible under this association matrix. Based on this ﬁnding, Stage 3 in Algorithm 2 is designed, which checks both the violation of fronthaul capacity constraints and the feasibility of problem (13).
Note that the number of possible UE-RRH links checked in Algorithm 2 is at most 2Ms1K. Since each check may include a precoding optimization whose complexity is O (KMs1)3.5N 3.5 , the total complexity of Algorithm 2
is O (KMs1)4.5N 3.5 . After the algorithm terminates, the RRH association outcome is a local optimal solution to problem (14), and rigorous proof is as follows.
Theorem 2: The ﬁnal outcome achieved by Algorithm 2 is a local optimal solution to problem (14) in the sense that activating or inactivating any RRH-UE link can not further improve the slice performance while keeping all the constraints satisﬁed.
Proof: Denote the ﬁnal association matrix output by Algorithm 2 as E which must be feasible to problem (14). As discussed above, inactivating a link in E can not contribute to a lower transmit power consumption due to a smaller feasible set of precoding for problem (13). Next, we prove that activating a link in E can not further improve slice performance as well. First, if E is a matrix with all elements equal to 1, it is obvious that no link can be activated, and hence E must be local optimal.
Then, we discuss the case where there exists at least one zero element in E. Assume that there exists another association matrix E+ that is got based on E by activating a UE-RRH link (ms1,j, k) that has been dropped off, and meanwhile meets the fronthaul capacity constraints for all RRHs. Deﬁne the set of active links in association matrix E as SaEctive, and then we have SaEctive ⊂ SaEc+tive. According to Algorithm 2, the UERRH link (ms1,j, k) must be checked in Stage 5, and we denote the corresponding association matrix as E′. From the algorithm, it can be known that E′ does not satisfy fronthaul capacity constraints for all RRHs, because the UE-RRH link (ms1,j, k) will be activated in E otherwise. But on the other hand, since SaEc′tive ⊆ SaEctive and SaEctive ⊂ SaEc+tive, we have SaEc′tive ⊂ SaEc+tive, and hence SaEc′tive must satisfy all the fronthaul constraints as well, which makes a contradiction. Thus, activating any inactive link in E must lead to an association matrix violating fronthaul capacity constraints. Finally, we can conclude that the outcome achieved by Algorithm 2 must be local optimal.
Finally, an iterative algorithm based on coalitional game with transfer order is proposed for LRRM 1, which is described in Algorithm 3. Since the numbers of available subchannels and UEs are both limited, the possible subchannel allocation results are limited, and thus the number of possible coalitional structures is limited. Note that each successful transfer guarantees that the transmit power of slice s1 strictly decreases, which leads to a totally new coalitional structure. Therefore, the algorithm ﬁnally converges after a ﬁnite number of iterations. Moreover, according to the algorithm, its convergence indicates a stable solution to the subchannel

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
9

Algorithm 2 Resource allocation under pre-determined subchannel allocation for LRRM 1
1: Stage 1: LRRM 1 initializes a UE-RRH association matrix E with all the elements equal to 1 and a set S1= {(ms1,j, k) |ms1,j ∈ Ms1, k ∈ K}. Then, solve problem (13) and check the fronthaul capacity constraint for each RRH under the association matrix E.

• If problem (13) is infeasible, it can be concluded that no feasible RRH association exists for problem (14).
• If problem (13) is feasible and meanwhile the fronthaul capacity constraints are all met, then E together with the optimal precoding is output as the ﬁnal solution.
• If problem (13) is feasible but fronthaul capacity constraints for certain RRHs are violated, LRRM 1 calculates (15) for each UE-RRH link, and go to Stage 2.

2: Stage 2:

Find (ms1,j′ , k′) = arg

min
(ms1,j ,k)∈S1

βms1,j ,k,

and

then

set the (j′, k′)-th element in E to 0. In addition, let S1 ←

S1/ {(ms1,j′ , k′)}.

3: Stage 3:

Solve problem (13) and check fronthaul capacity con-

straints. If problem (13) is infeasible, reset the value of the (j′, k′)-

th element in E to 1. Then go to Stage 4.

Else if problem (13) is feasible but the fronthaul capacity

constraints are unsatisﬁed for some RRHs, update contri-

bution index for each UE-RRH link in the set S1. Then go to Stage 4.

Else if problem (13) is feasible and meanwhile fronthaul

capacity constraints hold for all RRHs, initialize a set

S2 = (ms1,j , k) |ems1,j,k = 0 and go to Stage 5. 4: Stage 4:

If S1 = φ, the algorithm terminates and no feasible

solution is obtained.

Else if go back to Stage 2.

5: Stage 5: Select a UE-RRH link (ms1,j′ , k′) in S2, and S2 ← S2/ {(ms1,j′ , k′)}. Set the value of the (j′, k′)-th element
in E to 1.

If fronthaul capacity constraints do not hold for all RRHs with current E, reset the value of the (j′, k′)-th element

in E to 0.

6: Stage 6:

If S2 = φ, the algorithm terminates. Else if go back to Stage 5.

allocation in the sense that the system transmit power cannot be strictly decreased by changing any UE’s subchannel allocation unilaterally. Considering Theorem 2, the resource allocation outcome resulting from Algorithm 3 can be claimed to be local optimal. Speciﬁcally, keeping RRH association and precoding ﬁxed, changing any UE’s subchannel allocation can not improve the slice performance, while activating or

Algorithm 3 Resource allocation algorithm based on transfer

order for LRRM 1

1: Stage 1:

LRRM 1 initializes a coalitional structure Πini = π1, π2, ..., π|Ds1| with πd ⊆ Ms1, π1 ∪π2 · · ·∪π|Ds1| =
Ms1, and πd ∩ πd′ = φ, ∀d = d′. Denote the index of the coalition to which UE ms1,j belongs as dms1,j ∈ {1, 2, ..., |Ds1|}. Compute U1 (Πini) by solving the RRH
association and precoding optimization problem (14) using

Algorithm 2.

2: Stage 2:

For j = 1 : Ms1 For d = 1 : |Ds1| If d = dms1,j

Πcurrent

=

Πini/ πd, πdms1,j

∪

πd ∪ {ms1,j } , πdms1,j / {ms1,j } .

Compute

U1 (Πcurrent) using Algorithm 2.

If U1 (Πini) > U1 (Πcurrent) (transfer condition)

Πini ← Πcurrent and dms1,j ← d.

End If

End If

End For

End For

3: Stage 3:

Repeat Stage 2 until the coalitional structure Πini converges.

dropping off any UE-RRH link can not improve the slice performance as well when keeping the subchannel allocation ﬁxed. Finally, the total complexity for the above algorithm in each iteration is O |Ds1| Ms15.5K4.5N 3.5 .
B. Low Complexity Algorithm Design for LRRM 2
The optimization problem (8) of LRRM 2 is actually a matching problem between UEs and resources, which motivates the adoption of matching theory to develop a low complexity algorithm. According to the constraints in (8), each UE can be allocated with only one subchannel-FAP pair and each subchannel-FAP pair can serve only one UE. Hence, a one-to-one matching problem between UEs and subchannel-FAP pairs can be formulated. Deﬁne the set of all the subchannel-FAP pairs as A with |A| = |Ds2| L. Then, the concerned matching problem is formally deﬁned as follows.
Deﬁnition 2: A matching µ is a one-to-one mapping between UEs and subchannel-FAP pairs satisfying 1.If µ (ms2,j ) = a, then µ (a) = ms2,j , ∀ms2,j ∈ Ms2 and ∀a ∈ A, and vice versa. 2.|µ (ms2,j )| = 1, ∀ms2,j ∈ Ms2. 3.|µ (a)| ≤ 1, ∀a ∈ A.
The ﬁrst condition states that a matching establishes a mutual relationship between the elements in two different sets. The second condition requires that each UE must be mapped to a subchannel-FAP pair, otherwise the average download latency will be inﬁnite. The third condition guarantees that each subchannel-FAP pair can serve at most one UE. Moreover, the

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
10

download latency of each UE calculated by (6) depends on not

only its own matching to subchannel-FAP pairs but also the

matching between other UEs and subchannel-FAP pairs, which

causes externality of the formulated matching problem. Hence,

the classic deferred acceptance algorithm cannot be applied

[45]. Meanwhile, there is no guarantee on the existence of a

pair-wise stable matching [46]. Therefore, the concept of swap

matching is incorporated to effectively tackle the matching

problem, whose deﬁnition is given as follows.

Deﬁnition 3: Assume that under matching µ,

µ (ms2,j ) = a µ/ {(ms2,j , a) ,

and µ (ms2,j′ ) (ms2,j′ , a′)} ∪

{=(mas2′.,jT, ah′e)n,,(mµams,2as,2′j,′j,,ma)s}2,j′is

= a

swap matching.

It should be highlighted that one of the UEs involved in

the swap can be a dummy UE, which means that no UE is

served by the subchannel-FAP pair it matches with, and a

UE can be mapped to this pair directly. However, considering

that an FAP can serve only ﬁnite number of UEs, there is a

special case for the deﬁnition of swap matching. Speciﬁcally,

suppose that a UE ms2,j with µ (ms2,j) = a intends to swap to a subchannel-FAP pair a′ not occupied by any UE, and the FAP in pair a′ does not associate with UE ms2,j currently.
If the quota of the FAP has been full, i.e., the constraint (b3)

in problem (8) takes equality, to keep the feasibility of the

resource allocation solution, a UE ms2,j′′ served by the FAP
should be switched to the subchannel-FAP pair a when UE ms2,j swaps to subchannel-FAP pair a′.

Since the LRRM aims to minimize the average download

latency of UEs, the swap condition is deﬁned as follows.

Deﬁnition 4: (Swap Condition) Denote the subchannels

included in subchannel-FAP pair a and a′ by da and da′ ,

respectively, and deﬁne Dswap = {da} ∪ {da′ }. Then, a swap

matching

µa,a′
ms2,j ,ms2,j′

is

preferred

by

LRRM

2

to

the

current

matching µ if

tms2,j
ms2,j ,dµ(ms2,j )∈Dswap

µa,a′
ms2,j ,ms2,j′

<

tms2,j (µ).

ms2,j ,dµ(ms2,j )∈Dswap

(16)

Note that the download latency for UE ms2,j is expressed as a function of the current matching due to the existence of externality. For the special case of swap matching discussed before, denote the subchannel allocated to UE ms2,j′′ by da′′ , and then the set of subchannels related to the swap is now given by Dswap = {da} ∪ {da′ } ∪ {da′′ }.
Based on the above deﬁnitions, a low complexity resource allocation algorithm for LRRM 2 is presented in Algorithm 4. From the swap condition, it can be seen that each swap operation leads to a strict decrease of the system average download latency, and hence a completely new matching will be generated after each swap. Because of the limited number of all possible UE-resource matchings, the algorithm will converge to a ﬁnal matching after ﬁnite iterations. Moreover, the convergence of the matching means a local optimal resource allocation outcome in the sense that any swap will not improve the latency performance of slice s2. The complexity of the

Algorithm 4 Resource allocation algorithm based on swap

matching for LRRM 2

1: Stage 1:

LRRM 2 generates the set of all possible subchannel-FAP

pairs A and initializes a feasible UE-resource matching

µ satisfying constraints in problem (8). Denote the i-th

subchannel-FAP pair in set A as ai.

2: Stage 2:

For j = 1 : Ms2 For i = 1 : |A|

If µ (ms2,j ) = ai

Check

whether

µa,ai
ms2,j ,µ(ai)

is

preferred

according

to

the swap condition. Especially, when UE ms2,j is not

associated with the FAP included in subchannel-FAP pair

ai not matched to any UE, and meanwhile the quota of

the FAP has been achieved, one of the q UEs served

by the FAP should be swaped to the subchannel-FAP pair currently matched to UE ms2,j to keep a feasible matching.

If Swap condition holds

µ

←

µ . a,ai
ms2,j ,µ(ai)

End If

End If

End For

End For

3: Stage 3: Repeat Stage 2 until the UE-resource matching µ con-

verges.

algorithm for each iteration is O (Ms2 |Ds2| Lq), where q is the maximal number of UEs that can be served by an FAP.
C. Low Complexity Algorithm Design for the GRRM
In this subsection, a low complexity algorithm will be developed for the GRRM to avoid the exhaustive complexity, and hence good scalability can be achieved when the number of subchannels is very large. Speciﬁcally, a concept similar to swap matching adopted in the above subsection is ﬁrst formally deﬁned as follows.
Deﬁnition 5: (Resource Swap Operation) Deﬁne the ﬁrst kind of swap operations of the GRRM as Ds1/ {ds1} ∪ {ds2} and Ds2/ {ds2} ∪ {ds1}, where ds1 ∈ Ds1 and ds2 ∈ Ds2, and deﬁne the second kind of swap operations of the GRRM as Ds1 ∪ {ds2} with Ds2/ {ds2} or Ds2 ∪ {ds1} with Ds1/ {ds1}.
Then, the following condition is given to identify whether to execute swap operations.
Deﬁnition 6: (Swap Operation Condition) A swap operation is performed if and only if the utility of the GRRM U0 is strictly decreased.
Based on these deﬁnitions, our proposed low complexity resource allocation scheme for the GRRM is elaborated in Algorithm 5. According to the swap operation condition, each update of subchannel allocation between slices means a strict improvement on the utility of the GRRM U0. Since radio resources are limited, there is a lower bound of U0. Hence, after ﬁnite subchannel allocation updates, Algorithm 5 will

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
11

Algorithm 5 Resource allocation algorithm based on swap operations for the GRRM
1: Stage 1: Initially, the GRRM allocates one subchannel to slice s2, while the remaining subchannels are allocated to slice s1. After being informed about the resource allocation result, LRRM 1 and LRRM 2 perform local resource optimization, and then report slice performances to the GRRM, based on which the GRRM identiﬁes its initial utility U0 according to (9).
2: Stage 2: For subchannel d = 1 : D: For slice i = s1 : s2: For subchannel di ∈ Di: The GRRM tries the ﬁrst kind of swap operations involving subchannel d and di, and notiﬁes the LRRMs of slices about the subchannel allocation. LRRM 1 and LRRM 2 do resource optimization, and then feed back slice performances to the GRRM. If the swap operation condition holds: Update subchannel allocation between slices and go back to the second For loop. End If End for If no update of subchannel allocation between slices occurs: Try the second kind of swap operations, and notify the LRRMs of slices about the subchannel allocation. LRRM 1 and LRRM 2 do resource optimization, and then feed back slice performances to the GRRM. If the swap operation condition holds: Update subchannel allocation between slices and go back to the second For loop. End If End If End For End For
3: Stage 3: Repeat Stage 2 until the subchannel allocation between slices converges.
converge to a ﬁnal resource allocation strategy. In addition, the strategy is local optimal in the sense that no swap operations can further improve the utility of the GRRM. The complexity of the algorithm in each iteration is O D2 , showing a good scalability when the number of subchannels is large. Note that Algorithm 5 can be adopted to allocate any type of resources between two slices with any performance metrics. For example, each subchannel in this algorithm can be replaced by a resource bundle including radio resources, caching resources and computing resources. Moreover, once the GRRM reaches its local optimal strategy by Algorithm 5, it has no incentive to change the strategy according to the assumption of bounded rationality. Then, after each LRRM plays its local optimal strategy given the strategy of the GRRM, a weak version of SE is reached following the deﬁnition of SE.

500

400

300

200

100

0

-100

-200

-300

-400 -300 -200 -100

0

UE-Slice1 UE-Slice2 FAP RRH
100 200 300 400

Fig. 2. Simulation scenario.
5

4

The Utility of the GRRM (W)

3

2

Tmax=3s

1

Tmax=7s

0

1

5

9

13

17

21

25

The Number of Interactions between the GRRM and LRRMs

Fig. 3. The utility evolution of the GRRM.

VI. SIMULATION RESULTS AND ANALYSIS
In all the simulations, the bandwidth of each subchannel is 180kHz, and the channel coefﬁcient of each link is composed of path loss and fast fading. The pathloss model is d−2 with d being the distance between the two nodes in the same link. The fast fading is modeled as an independent complex Gaussian random variable distributed as CN (0, 1). The maximal transmit power of each RRH is 1.5 W, and the number of antennas in each RRH is 2. The noise power is set to 10−13 W, and the SINR requirement of UEs in slice s1 is taken as 5 dB. The transmit power of each FAP over each subchannel is 125 mW, and each FAP can serve at most 5 UEs. In addition, it is assumed that the ﬁles requested by UEs in slice s2 are available at the caches of all FAPs with the size of each ﬁle set to 10Mbits. Considering the randomness of user content requests, the assumption for 100% cache hit rate under a speciﬁc realization of user content requests is reasonable. However, note that our proposed resource allocation algorithms for slice s2 can ﬁt into any cache hit situations.
A. Achieving SE via Exhaustive Search
The simulation scenario in this part consists of two FRAN slices shown in Fig. 2, where the axis unit is in meters. Meanwhile, we suggest that ﬁve subchannels are to be allocated by the GRRM, and each fronthaul link can support at most two UEs. Note that the reason for adopting such a small scale topology in Fig. 2 is to facilitate the calculation of SE by exhaustive search.

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
12

0.18

0.15

The Utility of the LRRM1 (W)

0.12

0.09

0.06

0.03

0

1

5

9

13

17

21

25

The Number of Interactions between the GRRM and LRRMs

Fig. 4. The utility evolution of LRRM 1.

500

UE-Slice1

400

UE-Slice2

FAP

RRH 300

200

100

0

-100

-200

-300

-400 -300 -200 -100

0

100 200 300 400

Fig. 6. Simulation scenario.

9

7.5

The Utility of the LRRM2 (s)

6

4.5

3

1.5

0

1

5

9

13

17

21

25

The Number of Interactions between the GRRM and LRRMs

Fig. 5. The utility evolution of LRRM 2.

350

Transfer order based subchannel allocation and precoding design

300

SCRR based algorithm Exhaustive search

250

The Utility of the LRRM1 (mW)

200

150

100

50

0

0

2

4

6

8

10

12

14

16

Transfer Trials

Fig. 7. The performance of the transfer order based resource allocation algorithm for LRRM 1.

Figs. 3-5 show the evolution of the utilities of the GRRM, LRRM 1 and LRRM 2 during the GRRM searches for its best strategy, and the total number of interactions between the GRRM and LRRMs is 25, since the number of subchannel allocation strategies of the GRRM satisfying the constraints (c1)-(c3) in (9) is 25. Each interaction includes the broadcast of the GRRM’s strategy to LRRMs, the resource optimization of LRRMs under that given strategy, their performance feedback to the GRRM, and the decision of the GRRM on whether to record the current strategy or not. Moreover, if a subchannel allocation strategy becomes infeasible to any player’s optimization problem, the utility of the GRRM is set to 4.5. From Figs. 3-5, it can be seen that more subchannel allocation strategies become infeasible when the latency requirement of slice s2 becomes more stringent. Meanwhile, the SE points under Tmax = 3s and Tmax = 7s are marked by ellipses with solid line and dashed line, respectively, and it can be found from Fig. 4 that more transmission power is consumed by the slice s1 when Tmax = 3s, which demonstrates a performance tradeoff between the two slices. Speciﬁcally, this is because the GRRM has to allocate more subchannels to the LRRM 2 to satisfy its more stringent performance requirement. Hence, there are fewer subchannels available for LRRM 1, leading to more severe multi-user interference.
B. The Effectiveness of The Low Complexity Algorithms for LRRMs
In this subsection, we compare the performance of the low complexity resource allocation schemes developed for LRRMs

with exhaustive search and other low complexity baselines. Speciﬁcally, two heuristic resource allocation schemes are adopted in our simulation study:
• Static clustering and round-robin based subchannel allocation (SCRR): This scheme is adopted as the baseline for Algorithm 3. Speciﬁcally, following the Algorithm 3 in [44], the RRH cluster for each UE is ﬁrst formed, and then each UE is allocated with a subchannel in a roundrobin like fashion. After RRH association and subchannel allocation are determined, a precoding design problem with the same form of problem (13) will be solved with CVX.
• Deferred acceptance based node association and roundrobin based subchannel allocation (DARR): This scheme is adopted as the baseline for Algorithm 4. Speciﬁcally, UEs associate with FAPs in slice s2 based on received signal strength, and then each node allocates each UE with a subchannel leading to the highest SINR for this UE in a round-robin like manner.
Moreover, the simulation scenario is enlarged on the basis of that in Fig. 2, where slice s1 has 4 UEs while slice s2 has 6 UEs.
Fig. 7 evaluates the performance of the proposed transfer order based resource allocation algorithm for LRRM 1, i.e., Algorithm 3, where the number of subchannels is set to 3, and the capacity of each fronthaul link is set to 3. From Fig. 7, it can seen that the transmit power consumption of slice s1 after each trial is not increased, which is guaranteed by the transfer

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
13

The Utility of the LRRM2 (s)

18

Swap matching based FAP association and subchannel allocation

17

DARR based algorithm

Exhaustive search 16

15

14

13

12

11

10

9

8 20 28 36 44 52 60 68 76 84 92 100 108
Swap Trials

Fig. 8. The performance of the swap matching based resource allocation algorithm for LRRM 2.

The Utility of the GRRM (mW)

110 100
90 80 70 60 50 40 30 20 10
0

Exhaustive search with Tmax=4s Exhaustive search with Tmax=6s Swap based algroithm with Tmax=4s Swap based algroithm with Tmax=6s
11 22 33 44 55 66 77 88 99 110 121 The Number of Interactions between the GRRM and LRRMs

Fig. 9. The performance of the swap operations based resource allocation algorithm for the GRRM.

order. In addition, a huge gap between the performance of the proposed scheme and that of SCRR is observed, and this is because the static clustering and round-robin like subchannel allocation in SCRR do not well handle the multi-user interference. At last, the high complexity exhaustive search method can only decrease the transmit power consumption by no more than 10%, showing the competitive performance of our proposal.
Fig. 8 illustrates the performance of the proposed swap matching based resource allocation algorithm for LRRM 2, i.e., Algorithm 4, where the number of subchannels is set to 3. First, it can be found that the performance of slice s2 is continuously improved with swap operations going on. Moreover, it is observed that the algorithm can deliver a near optimal solution that leads to just about 5% average download latency increase compared with the optimal solution. Meanwhile, the improvement of our proposed scheme relative to the performance of DARR is signiﬁcant.
C. The Effectiveness of The Low Complexity Algorithm for the GRRM
To verify the effectiveness of the low complexity proposal for the GRRM, a larger scale network on the basis of Fig. 6 is considered, where there are 13 UEs in slice s2 with each FAP capable of serving at most 5 UEs, and the GRRM needs to decide the allocation of 11 subchannels. The whole resource allocation procedure follows Algorithm 5, where each LRRM

800

600

FAP

RRH

400

200

0

-200

-400

-600

-800

-800

-600

-400

-200

0

200

400

600

800

Fig. 10. Large scale simulation scenario.

The Utility of the GRRM (W)

12

10

8

6

4

Exhaustive search with Tmax=7s

2

Exhaustive search with Tmax=10s Swap based algroithm with Tmax=7s

Swap based algroithm with Tmax=10s

0

5

10

15

20

25

The Number of Available Subchannels

Fig. 11. The utility of the GRRM with the increase of available subchannels.

acts as a player with bounded rationality who derives a local optimal strategy using the developed low complexity resource allocation algorithm given the strategy of the GRRM. From Fig. 9, we can see that the proposal can achieve near optimal performance under different latency performance requirements of slice s2 but with much lower computation complexity than exhaustive search. In addition, a performance tradeoff between slices is observed similar to that in Subsection A.
To very the optimality and check the convergence time of Algorithm 5 under a large scale setting, the scenario in Fig. 10 is considered, where slice 1 has 8 RRHs while slice 2 has 9 FAPs. Meanwhile, there are 25 UEs in slice s1 uniformly distributed in a circle with the radius of 200m, whose center is the origin, and there are also 25 UEs in slice s2 uniformly distributed within a circle with the radius being 100m and taking the origin as the center. To accommodate the large number of UEs, fronthaul capacity of each RRH is set to 8.

Execution Time (s)

0.45 0.4
0.35 0.3
0.25 0.2
0.15 0.1
0.05 0 5

Swap based algroithm with Tmax=7s Swap based algroithm with Tmax=10s

10

15

20

25

The Number of Available Subchannels

Fig. 12. The execution time of Algorithm 5 with the increase of available subchannels.

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
14

Fig. 11 compares the performance of Algorithm 5 with exhaustive search under different number of subchannels, and note that the utility of the GRRM is set to the maximal total transmit power of RRHs, which is 12 here, if the latency performance of slice s2 is not met. First, it can seen that our proposed swap based inter-slice resource allocation algorithm can reach near optimal performance. Second, when the number of subchannels increases, the utility of the GRRM is improved. This is because more subchannels provide more opportunity to satisfy the latency requirement of slice s2, and meanwhile more subchannels can be allocated to slice s1, which can reduce interference and thus enables slice s1 to deliver high data rate with lower transmit power consumption. Third, the utility of the GRRM is also improved when the latency requirement of slice s2 is less stringent. This is because less stringent latency requirement of slice s2 makes more subchannels available to slice s1. Moreover, the execution time of Algorithm 5 is demonstrated in Fig. 12, and the time has excluded the decision-making time of LRRMs. When the number of subchannels exceeds 15, more subchannels lead to longer execution time due to more possible interslice subchannel allocation strategies. Moreover, when the number of subchannels exceeds 15, less stringent performance requirement of slice s2 causes a larger execution time under ﬁxed number of subchannels, since more inter-slice allocation strategies, which can meet the latency requirement of slice s2, exist.
VII. CONCLUSIONS
In this paper, radio resource allocation between two network slices with heterogenous performance metrics in fog radio access networks has been investigated. Under a hierarchical radio resource allocation architecture, the resource allocation problem has been modeled as a Stackelberg game, where the GRRM with a strong position acts as the leader and the LRRMs of slices act as followers. In addition, the game has been proved to possess at least one Stackelberg equilibrium (SE) under certain conditions. Since the problems of followers are NP-hard and the strategy of the leader is discrete, deriving SE solution is very challenging. To deal with this problem, a method based on exhaustive search has been proposed to help the GRRM and LRRMs achieve the SE interactively. Moreover, inspired by game-theoretic algorithms, low complexity resource allocation schemes have been developed for both the GRRM and LRRMs when they behave as players with bounded rationality. Furthermore, the optimality and complexity of our proposals are all rigorously analyzed. Simulation study has demonstrated that there is a tradeoff between the performance of slices, and the low complexity algorithms can achieve highly competitive solutions.
At last, it should be noted that our proposals for the GRRM can be used to allocate any resource bundles between slices by substituting subchannels with resource bundles in Algorithm 1 and Algorithm 5. In the future, it is interesting to study hierarchical resource allocation for more than two slices with heterogenous performance metrics. Meanwhile, when LRRMs cheat the GRRM in terms of their achieved performance, the

GRRM may not ﬁnd the real optimal or local optimal strategy, which means SE may not be achieved. Faced with this issue, it is essential to explore incentive mechanism design to make LRRMs report their performance truthfully.
REFERENCES
[1] M. Peng, S. Yan, K. Zhang, and C. Wang, “Fog computing based radio access networks: Issues and challenges,” IEEE Netw., vol. 30, no. 4, pp. 46-53, Jul. 2016.
[2] S. Yan, M. Peng, and W. Wang, “User access mode selection in fog computing based radio access networks,” in Proceedings of ICC, Kuala Lumpur, Malaysia, May 2016, pp. 1-6.
[3] H. Xiang, M. Peng, Y. Cheng, and H. Chen, “Joint mode selection and resource allocation for downlink fog radio access networks supported D2D,” in Proceedings of QSHINE, Taipei, China, Aug. 2015, pp. 177182.
[4] J. Kang, O. Simeone, J. Kang, and S. Shamai, “Joint optimization of cloud and edge processing for fog radio access networks,” IEEE Wireless Commun., vol. 15, no. 11, pp. 7621-7632, Nov. 2016.
[5] C. Liang and F. R. Yu, “Wireless network virtualization: A survey, some research issues and challenges,” IEEE Commun. Surveys & Tutorials, vol. 17, no. 1, pp. 358-380, FIRST QUARTER 2015.
[6] M. Peng, Y. Sun, X. Li, Z. Mao, and C. Wang, “Recent advances in cloud radio access networks: System architectures, key techniques, and open issues,” IEEE Commun. Surveys & Tutorials, vol. 18, no. 3, pp. 2282-2308, THIRD QUARTER 2016.
[7] M. Richart, J. Baliosian, J. Serrat, and J. Gorricho, “Resource slicing in virtual wireless networks: A survey,” Trans. Netw. and Service Mana., vol. 13, no. 3, pp. 462-476, Sep. 2016.
[8] K. Zhu and E. Hossain, “Virtualization of 5G cellular networks as a hierarchical combinatorial auction,” IEEE Trans. Mobile Comput., vol. 15, no. 10, pp. 2640-2654, Dec. 2015.
[9] K. Wang, H. Li, F. R. Yu, and W. Wei, “Virtual resource allocation in software-deﬁned information-centric cellular networks with device-todevice communications and imperfect CSI,” IEEE Trans. Veh. Technol., vol. 65, no. 12, pp. 10011-10021, Dec. 2016.
[10] T. LeAnh, N. H. Tran, D. T. Ngo, and C. S. Hong, “Resource allocation for virtualized wireless networks with backhaul constraints,” IEEE Commun. Lett., vol. 21, no. 1, pp. 148-151, Jan. 2017.
[11] V. Jumba, S. Parsaeefard, M. Derakhshani, and T. Le-Ngoc, “Resource provisioning in wireless virtualized networks via massiveMIMO,” IEEE Wireless Commun. Lett., vol. 3, no. 4, pp. 237-240, Jun. 2015.
[12] V. Jumba, S. Parsaeefard, M. Derakhshani, and T. Le-Ngoc, “Dynamic resource provisioning with stable queue control for wireless virtualized networks,” in Proceedings of PIMRC, Hongkong, China, Sep. 2015, pp. 1856-1860.
[13] L. Gao, P. Li, Z. Pan, N. Liu, and X. You, “Virtualization framework and VCG based resource block allocation scheme for LTE virtualization,” in Proceedings of VTC, Nanjing, China, May 2016, pp. 1-6.
[14] S. Parsaeefard, R. Dawadi, M. Derakhshani, and T. Le-Ngoc, “Joint user-association and resource-allocation in virtualized wireless networks,” IEEE Access, vol. 4, pp. 2738-2750, Apr. 2016.
[15] M. Richart, J. Baliosian, J. Serrat, and J. Gorricho, “Resource slicing in virtual wireless networks: A survey,” IEEE Trans. Netw. & Serv. Manag., vol. 13, no. 3, pp. 462-476, Sep. 2016.
[16] B. Ma, M. H. Cheung, V. W. S. Wong, and J. Huang, “Hybrid overlay/underlay cognitive femtocell networks: A game theoretic approach,” IEEE Trans. Wireless Commun., vol. 14, no. 6, pp. 3259-3270, Jun. 2015.
[17] F. Pantisano, M. Bennis, W. Saad, M. Debbah, and M. Latva-aho, “Interference alignment for cooperative femtocell networks: A gametheoretic approach,” IEEE Trans. Mobile Comput., vol. 12, no. 11, pp. 2233-2246, Nov. 2013.
[18] M. Ahmed, M. Peng, M. Abana, S. Yan, and C. Wang, “Interference coordination in heterogeneous small-cell networks: A coalition formation game approach,” IEEE Syst. J., vol. 12, no. 1, pp. 604-615, Mar. 2018.
[19] Y. Chen, B. Ai, Y. Niu, K. Guan, and Z. Han, “Resource allocation for device-to-device communications underlaying heterogeneous cellular networks using coalitional games,” IEEE Trans. Wireless Commun., vol. 17, no. 6, pp. 4163-4176, Jun. 2018.

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TVT.2019.2896586, IEEE Transactions on Vehicular Technology
15

[20] X. Kang, R. Zhang, and M. Motani, “Price-based resource allocation for spectrum-sharing femtocell networks: A stackelberg game approach,” IEEE J. Sel. Areas Commun., vol. 30, no. 3, pp. 538-549, Apr. 2012.
[21] P. Yuan, Y. Xiao, G. Bi, and Liren Zhang, “Toward cooperation by carrier aggregation in heterogeneous networks: A hierarchical game approach,” IEEE Trans. Veh. Technol., vol. 66, no. 2, pp. 1670-1683, Feb. 2017.
[22] S. Bu, F. R. Yu, and H. Yanikomeroglu, “Interference-aware energyefﬁcient resource allocation for OFDMA-based heterogeneous networks with incomplete channel state information,” IEEE Trans. Veh. Technol., vol. 64, no. 3, pp. 1036-1050, Mar. 2015.
[23] Y. Wang, X. Wang, and L. Wang, “Low-complexity stackelberg game approach for energy-efﬁcient resource allocation in heterogeneous networks,” IEEE Commun. Lett., vol. 18, no. 11, pp. 2011-2014, Nov. 2014.
[24] S. Guruacharya, D. Niyato, D. I. Kim, and E. Hossain, “Hierarchical competition for downlink power allocation in OFDMA femtocell networks,” IEEE Trans. Wireless Commun., vol. 12, no. 4, pp. 1543-1553, Apr. 2013.
[25] L. Liang, G. Feng, and Y. Jia, “Game-theoretic hierarchical resource allocation for heterogeneous relay networks,” IEEE Trans. Veh. Technol., vol. 64, no. 4, pp. 1480-1492, Apr. 2015.
[26] R. Xie, F. R. Yu, H. Ji, and Y. Li, “Energy-efﬁcient resource allocation for heterogeneous cognitive radio networks with femtocells,” IEEE Trans. Wireless Commun., vol. 11, no. 11, pp. 3910-3920, Nov. 2012.
[27] H. Dai, Y. Huang, J. Wang, and L. Yang, “Resource optimization in heterogeneous cloud radio access networks,” IEEE Commun. Lett., vol. 22, no. 3, pp. 494-497, Mar. 2018.
[28] M. Peng, Y. Wang, T. Dang, and Z. Yan, “Cost-efﬁcient resource allocation in cloud radio access networks with heterogeneous fronthaul expenditures,” IEEE Trans. Wireless Commun., vol. 16, no. 7, pp. 46264638, Jul. 2017.
[29] M. Peng et al., “Heterogeneous cloud radio access networks: A new perspective for enhancing spectral and energy efﬁciencies,” IEEE Wireless Commun., vol. 21, no. 6, pp. 126-135, Dec. 2014.
[30] Y. Sun, M. Peng, and S. Mao, “Deep reinforcement learning based mode selection and resource management for green fog radio access networks,” IEEE Internet Things J., Sep. 2018, doi: 10.1109/JIOT.2018.2871020, submitted for publication.
[31] J. Tang, R. Wen, T. Q. S. Quek, and M. Peng, “Fully exploiting cloud computing to achieve a green and ﬂexible C-RAN,” IEEE Commun. Mag., vol. 55, no. 11, pp. 40-46, Nov. 2017.
[32] H. Xiang, W. Zhou, M. Daneshmand, and M. Peng, “Network slicing in fog radio access networks: Issues and challenges,” IEEE Commun. Mag., vol. 55, no. 12, pp. 110-116, Dec. 2017.
[33] Y. Sun, M. Peng, and H. Vincent Poor, “A distributed approach to improving spectral efﬁciency in uplink device-to-device enabled cloud radio access networks,” IEEE Trans. Commun., vol. 66, no. 12, pp. 6511-6526, Dec. 2018.
[34] M. Bennis, S. M. Perlaza, P. Blasco, Z. Han, and H. Vincent Poor, “Self-organization in small cell networks: A reinforcement learning approach,” IEEE Trans. Wireless Commun., vol. 12, no. 7, pp. 32023212, Jul. 2013.
[35] K. Senel and M. Akar, “A power allocation algorithm for multitier cellular networks with heterogeneous QoS and imperfect channel considerations,” IEEE Trans. Wireless Commun., vol. 16, no. 11, pp. 7184-7194, Nov. 2017.
[36] B. Yuksekkaya and C. Toker, “Power and interference regulated waterﬁlling for multi-tier multi-carrier interference aware uplink,” IEEE Wireless Commun. Lett., vol. 7, no. 4, pp. 494-497, Aug. 2018.
[37] Y. Lin, W. Bao, W. Yu, and B. Liang, “Optimizing user association and spectrum allocation in HetNets: A utility perspective,” IEEE J. Sel. Areas Commun., vol. 33, no. 6, pp. 1025-1039, Jun. 2015.
[38] S. A. R. Naqvi et al., “Energy-aware radio resource management in D2D-enabled multi-tier HetNets,” IEEE Access, vol. 6, pp. 1661016622, Mar. 2018.
[39] S. Ali, A. Ahmad, R. Iqbal, S. Saleem, and T. Umer, “Joint RRHassociation, sub-channel assignment and power allocation in multi-tier 5G C-RANs,” IEEE Access, vol. 6, pp. 34393-34402, Jun. 2018.
[40] C. Xu, M. Sheng, V. S. Varma, T. Q. S. Quek, and J. Li, “Wireless service provider selection and bandwidth resource allocation in multitier HCNs,” IEEE Trans. Commun., vol. 64, no. 12, pp. 5108-5124, Dec. 2016.
[41] Z. Han et al., “Game theory in wireless and communication networks,” Cambridge University Press, 2012.

[42] W. Saad, Z. Han, R. Zheng, M. Debbah, and H. V. Poor, “A college admissions game for uplink user association in wireless small cell networks,” in Proceedings of INFOCOM, Toronto, ON, Canada, Apr. 2014, pp. 1096-1104.
[43] E. J. Candes, M. B. Wakin, and S. P. Boyd, “Enhancing sparsity by reweighted l-1 minimization,” Journal of Fourier analysis and applications, vol. 14, no. 5-6, pp. 877-905, 2008.
[44] B. Dai and W. Yu, “Sparse beamforming and user-centric clustering for downlink cloud radio access network,” IEEE Access, vol. 2, pp. 13261339, Nov. 2014.
[45] F. Pantisano, M. Bennis, W. Saad, S. Valentin, and M. Debbah, “Matching with externalities for context-aware user-cell association in small cell networks,” in Proceedings of Globecom Workshops, Atlanta, GA, USA, Dec. 2013, pp. 4483-4488.
[46] A. E. Roth and M. A. O. Sotomayor, “Two-sided matching: A study in game-theoretic modeling and analysis,” Cambridge University Press, Jun. 1992.
Yaohua Sun received the bachelor’s degree (with ﬁrst class Hons.) in telecommunications engineering (with management) from Beijing University of Posts and Telecommunications (BUPT), Beijing, China, in 2014. He is a Ph.D. student at the Key Laboratory of Universal Wireless Communications (Ministry of Education), BUPT. He has been reviewers for IEEE Transactions on Communications, Journal on Selected Areas in Communications, IEEE Communications Magazine, IEEE Wireless Communications Magazine, IEEE Wireless Communications Letters, IEEE Communications Letters and IEEE Internet of Things Journal.
Mugen Peng (M’05, SM’11) received the Ph.D. degree in communication and information systems from the Beijing University of Posts and Telecommunications (BUPT), Beijing, China, in 2005. Afterward, he joined BUPT, where he has been a Full Professor since 2012. He has authored and coauthored over 100 refereed IEEE journal papers and over 300 conference proceeding papers. His main research areas include wireless communication theory, radio signal processing, cooperative communication, selforganization networking, heterogeneous networking, cloud communication, and Internet of Things. Dr. Peng was a recipient of the 2018 Heinrich Hertz Prize Paper Award, the 2014 IEEE ComSoc AP Outstanding Young Researcher Award, and the Best Paper Award in the JCN 2016, IEEE WCNC 2015, etc. He is currently or have been on the Editorial/Associate Editorial Board of the IEEE Communications Magazine, IEEE ACCESS and IEEE Internet of Things Journal.

0018-9545 (c) 2018 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.

