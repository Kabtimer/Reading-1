SDN Architecture for Cognitive Radio Networks

Guolin Sun, Guisong Liu
School of Computer Science and Engineering University of Electronic Science and Technology of China
Chengdu, China guolin.sun@uestc.edu.cn, lgs@uestc.edu.cn

Yi Wang
Sichuan Communication Research Plan&Design Co. LTD CHINA TELECOM Chengdu, China
scsjwangyib@scccs.com.cn

Abstract—Driven by the requirements from traffic volume versatile services and spectrum scarcity, the concept of cloud network and cognitive radio could become new features in the next generation mobile and wireless access networks. For example, to deploy LTE femtocells and Wi-Fi networks in the TV white spaces provides a new way for traffic offloading and enables spectrum sharing as a cognitive radio network. In this paper, we propose and prototype a software defined network architecture with the OpenFlow protocols for heterogeneous network spectrum sharing in the TV white space. Then, we analyze the controller architecture for cognitive radio and the OpenFlow enabled infrastructure architecture. We implement a prototype of software defined cognitive radio network with this SDN controller and LTE/Wi-Fi network simulator. Some essential control functions of cognitive radio are implemented and new potential scenarios based cognitive radio networks are given.
Keywords—Cognitive radio networks; Software defined network; OpenFlow;
I. INTRODUCTION
With the trend of network design moving from the network centric to the client centric, the concepts of software defined network (SDN) and network function virtualization (NFV) are candidate techniques for the next generation Internet as well as the 5G mobile communication. The service-oriented network envisions people access the information just like the electricity, water and gas in the daily life, so we argue that radio spectrum usage is also a service. Unfortunately, the current radio access networks(RAN) environment is fundamentally heterogeneous and they are isolated each other, such as LTE, Wi-Fi and WCDMA. With a view of cognitive radio, a new spectrum usage paradigm is required in order to allow the mobile user access any reachable heterogeneous spectrum around it. Furthermore, quality of user experience(QoE) can be guaranteed . Therefore, we believe SDN/NFV architecture is potential to enable novel spectrum usage with the cognitive radio techniques in the next generation mobile internet or 5G.
The traffic volume for the future mobile Internet increases in form of orders of magnitude in the coming year and leads

the eve of big data coming. The physical transmission and spectral efficiency is difficult to get promoted further, because the spectrum efficiency of LTE has reached within the twenty percent, as is very close to the shannon capacity limit[1]. As a result, cognitive radio is an important way to offload traffic for the macro-cell networks to the dense deployed femtocells and Wi-Fi networks in the 5G. The dense small-cell deployment with LTE femtos and Wi-Fi without cell planning may appear to provide more spectrum occupancy per user by reducing the number of users per cell. However, this leads to a complex network management under the network architecture already defined. Therefore, the new concept of SDN/NFV provides us a promising way to manage interferences and enable dynamic spectrum sharing.
Based on the two observation, we are dedicated to define a software defined wireless network (SDWN) architecture for the heterogeneous and broadband RANs to simplify network management with a novel spectrum usage paradigm oriented to 5G. As an example, the coexistence of LTE femtocells and Wi-Fi has been investigated in TV white space[2][3]. The main contributions in the paper can be summarized as two. One is a multi-tiered cloud architecture proposed for the SDWN. A prototype for cognitive radio scenarios defined with this SDN architecture has been implemented for cognitive radios. The other is a developed spectrum monitor and spectrum manager are proposed under the SDWN architecture. New spectrum access/handover scenarios are supported in a SDWN based cognitive radio networks.
The organization of this paper is defined as as following: In the section II, we review the background of SDWN and the recent developed concept of 5G oriented cognitive radio. Then, we define a multi-tiered SDWN architecture for heterogeneous RANs in the section III, which enables the spectrum sharing in TV white space and decouples the data/control planes with an Openflow interface in the infrastructure. Section IV introduces an initial prototype design and implementation with the new features for the SDWN enabled spectrum sharing environment. In the end, we make conclusions for the paper in the section V.
II. BACKGROUND OF COGNITIVE RADIO AND SDWN
This paper is motivated to develop cognitive radio with a practical usage in the software defined network architecture, because our argument is spectrum usage is also a service in 5G

mobile networks and spectrum sharing policy could be defined and reprogrammable by software as a SDWN controller. The extensive measurements carried out in the major urban areas in the world have shown that the spectral efficiency is poor in a range of 300MHz to 3GHz with a high spatio-temporal variation[4].The previous research on the cognitive radio was focusing on improving the radio spectrum utilization resources mainly within the primary-secondary user models in the UHF TV band. For example, the scenario of LTE femtocell and WiFi deployed in TV white space allows the mobile operators to improve coverage and capacity of their network and reduce their CapEx and OpEx.
However, in the 5G wireless communications, to meet the challenge requirements of huge capacity, massive connectivity, high reliability and low latency, cognitive radio is expected to play an important role in two aspects. First, since the spectrum band for 5G will be extended to even 60GHz millimeter-wave range, the usage of cognitive radio can be extended to improve the spectrum utilization within new types of spectrum sharing models, such as dynamic licensed spectrum leasing[5]. Second, 5G will take aggressive spatial reuse of spectrum as a enabler with new techniques such as massive MIMO and Ultra-dense Deployment. In this context, cognitive radio can be used to control the interference issues from space, frequency and time domains with a very smart manner. On the other hand, the controller-based SDWN architecture provides the coordination opportunities for heterogeneous wireless network management on spectrum and interferences, which is defined a new service on controller and implemented as an essential component of the network operation system, e.g. Floodlight. In this paper, we design an layered SDWN based architecture for the coexistence scenario in a heterogeneous network of the LTE femtocell and Wi-Fi network in the TV white space with Openflow. Openflow is a protocol, initiated at Stanford, to enable switches on the wired network to be intelligent and programmable via a standardized interface. The Open-Flow protocol is standardized by the ONF to mitigate operation cost while simply network management and speed network innovation[6]. Furthermore, Openflow has been extended from wired network to wireless infrastructures as OpenRoad. The OpenRoad is dedicated to solve mobility problem with a topology with 5 switches, 30 Wi-Fi APs and a WiMax AP[7][8]. The SDN controller deals with the seamless handover problem between Wi-Fi and WiMax successfully. Till now, Openflow has been used in wireless mesh network[9], sensor networks[10], and cellular networks[11]. The flowvisior is an initial NFV techniques for SDWN[12].
III. ARCHITECTURE ISSUES IN SDN BASED COGNITIVE RADIO NETWORKS
A. SDN Architecture for Cognitive Radio Networks
With the vision of cognitive radio for the next generation mobile communication, we assume whatever eNodeB or STA can be reconfigurable on the part of baseband and radio in a large range with the software defined radio techniques, which is essential support to implement the cognitive radio defined in

this paper. We attempt to analyze design requirement with the vision and assumptions. The new proposed control plane is expected to be responsible for interference management and control in the coexistence of heterogeneous wireless network. The mechanism of interference appraisal and event detection should be provided with the network state monitoring function. Once the controller detects the event happened, controller will decide to send clients the spectrum handover command. This kind of method for spectrum mobility should be apparent to clients, and the QoE should be considered within it.
Fig. 1 SDN-based cognitive radio network architecture In order to reduce the response latency and mitigate the traffic load to a single SDWN controller, we propose a layered cloud architecture for controller deployment with two kinds of controller: local controller(LC) and global controller(GC). The LC processes the event within single a RAN domain, and the GC deals with the inter-domain events around different RANs. As shown in the Fig. 1, the LC1 manages the RAN1, e.g. LTE femtocell, and the LC2 controls RAN2, e.g. Wi-Fi network. The GC will deal with the events of cognitive radio from the heterogeneous networks, e.g. LTE and Wi-Fi, which is also an entrance of access backbone Internet. For example, LC2, a Wi-Fi network controller can scan the spectrum on 2.4GHz, 5.8GHz and UHF TV white space and then decide to handover a STA from 2.4GHz, a dense deployment band, to the UHF TV white space band based on the network traffic and load monitoring. If no more empty spectrum hole found, the LC2 will send this request to the GC, GC knows there is a LTE HeNB available to associate with this STA. In this way, this STA can access any spectrum bands and roaming among any type of RAN around it without any prior knowledge. The cognitive radio resource management is a common and essential function in the GC and the LC, as shown in the Fig. 1. The difference exists on the event processing only. The event processing in the SDWN controller fulfills a cognitive

procedure. First, LC can gathered the statistics at all the APs within a network into databases. This is known as monitoring, which will be given in the next section. Second, LC will parse, dispatch and handle the coming events from the monitoring server and the mobile clients. According to the event type, LC will deliver it to the on-line transaction processing (OLTP), on-line analytical processing (OLAP) block, or redirect it to the GC. The component of OLTP as well as OLAP handles events with predefined algorithms, known as a platform in the prototype. Normally, OLTP handles the time-constraint and low-level events with the realtime measurement, e.g. spectrum access. OLAP handles the high-level events due to historical changes in network, e.g. load balance on spectrum handover. Third, LC always make some decision to issue the specific control command on network with the aid from a volume of historic statistics analysis. For example, LC sends a control command to an AP to instruct it to update its spectrum usage. The cognitive radio resource management module and event handler for cognitive radio could be defined with software and programmable.

Furthermore, when SDWN meets with NFV techniques on radio spectrum, we believe the NFV will also be an important contribution on cognitive radio in TV white space, even 5G oriented cognitive radio. The NFV maybe decouple the logical operating from the physical owning the licensed or sharing spectrum. Some new spectrum usage paradigm will be enabled such as spectrum slice lease and trading. Each spectrum slice could be tagged in their defined name space according to some attribute of subscribers, policy and so on. The spectrum sliced in a virtual cloud of RANs allows dynamic spectrum access on demand for clients, just like our daily water drinking and gas firing. The mobile client can access Internet and information around him without care that whatever spectrum resource is, whatever network types are and whatever operators are. The network management will left to the physical network owner.

B. Network management with monitoring for cognitive radio
Network state monitoring is a fundamental component and the source of network intelligence for cognitive radio network. The network monitoring includes two: collection protocol and the network statistics. Here, we define the monitoring in the defined controller, e.g. Inside-domain CL and Inter-domain GC, with the event handler type, e.g. OLTP and OLAP. We summarize the potential statistics and analysis in the Tab.1.

Tab. 1 The definition of statistics in OLTP/OLAP

Event- Scenarios

Statistics collection for

Handler

cognitive radio

OLTP spectrum access

RSSI, Policy/Interest

OLAP

Proactive spectrum handover Reactive spectrum handover

Policy/Interest, RSSI Traffic load/Power saving/ Channel quality report/ Channel utilization rate

QoS aware traffic-offloading

End-to-end latency /Packet error rate

The SDN architecture enhanced the basic sensing function in cognitive radio to the network monitoring intelligence. The controller can manage and coordinate spectrum resources in an user-centric manner, including spectrum utilization rate, the number of the associated clients, the traffic load of each AP, the SINR and RSSI of each client are all potential statistics in the monitoring component. On the other hand, the potential collection protocol design is also an important issue in network monitoring. The SNMP protocol is the basic design in the prototype due to its simple and popularity among industry products. Snmp_agent at each AP collects the statistics from the measured radio environment and the radio signal characteristics based on the air interface specification, 3GPP or IEEE802. Snmp_manager gathers the measured statistics from the Openflow APs via SNMP. The algorithm platform queries information in database with a configurable period via Jason, XML etc.
C. Data/Control plane decouple for cognitive radio
Fig. 2 Data/Control decouple architecture of OF-AP The mobility management and radio resource management are two of the most important function entities in the defined 3GPP architecture.The decouple of control plane from the data plane on the original infrastructure will migrate to the SDWN controller, so the HeNB and Wi-Fi AP are pure infrastructures with physical layer transmission and transfer. As shown in the Fig. 2, data path is drawn in grey, while control path in white. We assume the physical layer transmission for LTE/Wi-Fi is reconfigurable with the software defined radio techniques . The data plane completes the packet forwarding function via Openflow datapath. Openflow protocol provides a flexible flow-based forwarding management way to allow operators to distribute their own data plane rules over cheaper switches and handle the traffic control over spectrum, e.g. TV white space. However, the abstraction of data operation command for the cognitive radio is still open to extend the Openflow protocols. The network infrastructures include OpenFlow switches and wireless APs. Each access point could be configured with two kinds of radio interfaces, e.g LTE and Wi-Fi. The common wired Ethernet card should support two logical interfaces, e.g. SSL for the event reporting and SNMP for the monitoring. A

sensing agent is used to collect MIB info. from each protocol layer, e.g. SNMP. For example, SNMP_agent, defined in the prototype, provides us the vacant channels within the physical and radio modules and channel utilization rate in the registers of CPUs. A control agent, defined as a CtrlActor in prototype, is employed to carry out the decision on network control. The control signaling will be decoupled from data transmission to enable cloud MAC via security link (SSL) to the controller. This architecture provides a transparent spectrum slicing and allows each slice to own its separated radio and base-band configuration. The higher layer protocol is an abstraction of a single narrowband radio. For example, an session protocol can allow dynamic PU/SU registration and member management schemes for a client network.
IV. SDN PROTOTYPE FOR COGNITIVE RADIO The current prototype is composed of a cloud controller, a open-flow switch, and a network simulator. One GC and two ECs are defined and implemented as a cloud controller in this prototype with the virtualization techniques, shown as Fig. 3.
Fig. 3 Virtualization architecture of a cloud-controller The software architecture of controllers and an openflow enabled network simulator are illustrated in Fig. 4(a) and (b). Two scenarios of cognitive radio are supported: on-demand spectrum access and proactive/eactive spectrum handover. Spectrum access is a typical real-time event, and the proactive spectrum handover for load balancing is a non-real time event.
Fig. 4 Controller and simulator architecture for cognitive radio

A. Cloud-controller virtualization implementation
In the virtualized cloud controller platform, the KVM and QEMU are used to implement the virtualized cloud platform. The KVM project maintains a fork of QEMU as qemu-kvm[13]. Currently it still provides the best performance and certain additional features for using KVM with QEMU on x86[14]. The Floodlight is an enterprise-class, Apache-licensed, Java-based OpenFlow Controller developed from Big Switch Networks[15]. In the prototype, two ECs communicate with the GC via the virtualized ‘bridges’. The cloud controller provides two southinterfaces to the physical networks, e.g. LTE, WLAN with NICs. With the constraints of openflow enabled infrastructures, we implement a software network simulator on a computer to mimic behaviors in the scenarios of cognitive radio networks with an openflow interface and a SNMP interface.
B. Controller architecture for cognitive radio
Communication layer is responsible for message exchange function with the forwarding infrastructure as a south-interface of controller. In this system, the communication layer provides SNMP_Mgr and SSLServ functions. SNMP_Mgr provides for Get, Set and Trap functions of SNMP. SSL_Serv completes a SSL channel to interact with the network simulator as a SSL server. The control message is encapsulated in the Openflow frame. Logic control layer is responsible for wireless related logic control functions. Based on the specific configuration defined by algorithms, Monitoring module collects the state statistics and the property of wireless devices periodically, sends and stores information from the communication layer to database. Algorithm module takes messages from real-time monitoring modules, e.g. proactive handover, makes decision, informs the instruction set module the specific action to do. Accordance with the requirements, Algorithm module queries the related data in database and compute with the handover algorithm. With the calculation result, it notifies the command to instructions set module, which encapsulates the operation instructions of network control in the commands to forwarding pieces via appropriate APIs. The persistence layer completes data operations, which persists to the database and provides a user-friendly API to the database users. The presentation layer provides user a visual radio management information and a user-defined application side.
C. Open-Flow Wireless Network Simulator
The WL_Simu_Comm is mainly responsible for message delivery and communication among the controller, Open-Flow Virtual Switches(OVS) and the network simulator. The device emulation layer WL_Simu_dev receives the control messages from the WL_Simu_Comm, and also sends data packets to the OVS. Therefore, there are two separated channels between the communication layer and the device emulation layer, a control message channel and a data transfer channel. Since the control messages may come from the SSL or SNMP communication mechanism, so there are two communication agents in this WL_simulator, SNMP agent and SSL agent. However, all of the control instructions should pass through the CtrlActor sub-

modules into a unified device emulation layer. CtrlActor will collect measurements of STA-AP pairs once it received the SNMP_get commands. The Packet_builder will generate the simulated data packets based on commands of AP and STAs. WL_simu_confparser is an interface provided for users to configure the initial network simulation scenario when it starts up. The WL_simu_userapi allows users dynamically to modify scenario configuration after it begins to run.
D. Scenario: Spectrum access/lease
The dynamic spectrum access is defined in the prototype as:
a. The clients can access UHF TV white space, LTE licensed band, ISM spectrum 2.4GHz/5GHz with higher RSSI.
b. The clients can access UHF TV white space, LTE licensed band, ISM spectrum 2.4GHz/5GHz with light traffic load.
To increase network resource utilization on network types, a cloud-MAC scheme is proposed for heterogeneous network access[16]. In order to improve resource utilization efficiency on spectrum, we need a dynamic spectrum access algorithm in the cloud heterogeneous radio environment, as is an important technical challenge.
E. Scenario: Spectrum handover/mobility
The SDN based cognitive radio networks must support the spectrum handoff due to spectrum mobility in TV white space. The scenario of spectrum handover/moving has been defined in the prototype as:
a. Spectrum vacancy can change over time and space in cognitive radio networks, reactive handover works with the aim of load balancing;
b. Spectrum vacancy can change over time and space in cognitive radio networks, proactive handover works with the RSSI measurements, and the price-policy;
However, it is an important issue to provide a seamless and reliable communication guarantee to mobile users in cognitive radio networks. The decision on target spectrum band relies on the historic information analysis, e.g. Channel utilization rate.
F. Scenario:Spectrum slicing/virtualization
The spectrum slicing method isolates and separates traffic over the different slices with tags defined in a semantic space. The scenario of spectrum slicing is defined in the prototype as:
a. Spectrumvisor can create/delete spectrum slice at least[12]. For example, one slice is dedicated to legacy user in WiFi networks, e.g. 802.11b client. This allows to isolate traffic for legacy clients with a certain capability.
b. Spectrum-visor can support a high-level semantic space definition. A slice of semantic space is the set of packets whose subscriber attributes satisfy the same predicates.
c. Spectrum-visor can aggregate slices to map spectrum in TV white spaces to high-level semantic space. In a home network, the semantic spaces include smart grid, security monitoring and smart appliance control.

V. CONCLUSION
In this paper, we present a critical study on an user-centric, service-oriented, openflow enabled SDWN architecture with network intelligence for the scenarios of cognitive radio. The data/control decoupling for Openflow enabled infrastructures was provided. Furthermore, an initial prototype is presented for the cognitive radio scenarios of LTE femtocells and Wi-Fi in TV white space and new features are introduced. In the next step, we work towards the performance evaluation and replace the network simulator with Openflow enabled hardwares, e.g. Openflow Wi-Fi AP.
ACKNOWLEDGMENT
This study is supported by the Specialized Research Fund for the Doctoral Program of Higher Education of China, Grant No. 20130185120021.
REFERENCES
[1] Akyildiz I F, Gutierrez-Estevez D M, Reyes E C. "The evolution to 4G cellular systems: LTE-Advanced". Elsevier Physical Communication, 2010, 3(4): 217-244.
[2] Karonis, Ilias. "RAN Evaluation of LTE-Femtocell Deployment and TV White Space Secondary Usage," Ph.D. Dissertion, KTH, Sweden, 2012.
[3] L. Simic, M. Petrova, P. Mähönen, "Wi-Fi, but not on Steroids: Performance Analysis of a Wi-Fi like Network Operating in TVWS under Realistic Conditions" In proceedings of IEEE ICC 2012, Ottawa, Canada, June 2012
[4] T.Erpek, M.Lofquist and K.Patton, "Spectrum occupancy measurements: Loring Commerce Centre, Limestone, Maine, Sept.18-20, 2007," Shared Spectrum Company Report, 2007.
[5] IEEE TCCN SIG on Cognitive Radio for 5G, http://cms.comsoc.org/.
[6] The OpenFlow Consortium, OpenFlow Switch Specification 1.1, 2012.
[7] K.-K. Yap, M. Kobayashi, R. Sherwood, T.-Y. Huang, M. Chan, N. Handigol, and N. McKeown, "Openroads: empowering research in mobile networks," SIGCOMM Comput. Commun. Rev., vol. 40, pp. 125–126, Jan. 2010.
[8] K.-K. Yap, R. Sherwood, M. Kobayashi, T.-Y. Huang, M. Chan, N. Handigol, N. McKeown, and G. Parulkar, "Blueprint for introducing innovation into wireless mobile networks," in Proc. ACM SIGCOMM Workshop on Virtualized Infrastructure Systems and Architectures, pp. 25–32, ACM, 2010.
[9] Peter Dely, Andreas Kassler, Nico Bayer. "OpenFlow for Wireless Mesh Networks," In Proc. of 20th International Conference on Computer Communications and Networks(ICCCN), Workshop on Wireless Mesh and Ad Hoc Networks, Hawaii, USA, Aug. 2011.
[10] T. Luo, H.-P. Tan, and T. Quek, Sensor openflow: Enabling software defined wireless sensor networks, IEEE Communications Letters, vol. 16, no. 11, pp. 1896–1899, November 2012.
[11] Li Erran Li, Z. Morley Mao, and Jennifer Rexford, "Toward softwaredefined cellular networks," Proc. of European Workshop on Software Defined Networking, Oct. 2012.
[12] Sherwood R, Gibb G, Yap K K, et al. "Flowvisor: A network virtualization layer", OpenFlow Switch Consortium, Tech. Rep, 2009.
[13] Website: http://www.linux-kvm.org/.
[14] Website: http://www.qemu.org.
[15] Website: http://www.projectfloodlight.org/floodlight/.
[16] Vestin J, Dely P, Kassler A, et al., "CloudMAC: Towards Software Defined WLANs," ACM SIGMOBILE Mobile Computing and Communications Review, 2013, 16(4): 42-45.

