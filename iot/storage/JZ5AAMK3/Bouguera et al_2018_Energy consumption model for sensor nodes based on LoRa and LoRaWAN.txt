sensors
Article
Energy Consumption Model for Sensor Nodes Based on LoRa and LoRaWAN
Taouﬁk Bouguera 1,2,∗, Jean-François Diouris 1, Jean-Jacques Chaillout 2, Randa Jaouadi 3 and Guillaume Andrieux 1 ID
1 University of Bretagne Loire, Polytech Nantes, IETR, 44300 Nantes, France; jean-francois.diouris@univ-nantes.fr (J.-F.D.); guillaume.andrieux@univ-nantes.fr (G.A.)
2 CEA Leti/Tech, MINATEC Campus, 38054 Grenoble, France; jean-jacques.chaillout@cea.fr 3 University of Angers, IUT Angers, LARIS, 49035 Angers, France; randa.jaouadi@univ-angers.fr * Correspondence: taouﬁk.bouguera@etu.univ-nantes.fr; Tel.: +33-(0)6-47-57-94-65
Received: 23 May 2018; Accepted: 27 June 2018; Published: 30 June 2018
Abstract: Energy efﬁciency is the key requirement to maximize sensor node lifetime. Sensor nodes are typically powered by a battery source that has ﬁnite lifetime. Most Internet of Thing (IoT) applications require sensor nodes to operate reliably for an extended period of time. To design an autonomous sensor node, it is important to model its energy consumption for different tasks. Each task consumes a power consumption amount for a period of time. To optimize the consumed energy of the sensor node and have long communication range, Low Power Wide Area Network technology is considered. This paper describes an energy consumption model based on LoRa and LoRaWAN, which allows estimating the consumed power of each sensor node element. The deﬁnition of the different node units is ﬁrst introduced. Then, a full energy model for communicating sensors is proposed. This model can be used to compare different LoRaWAN modes to ﬁnd the best sensor node design to achieve its energy autonomy.
Keywords: communicating sensors; energy consumption; autonomy constraint; LoRa; LoRaWAN; energy optimization

1. Introduction
Wireless Sensor nodes enable a wide range of applications, such as infrastructure security, environment monitoring, event detection, etc. [1]. Such applications have the purpose of collecting information about a given phenomena or event. These sensor nodes are generally deployed in harsh and inaccessible environments. For these reasons, sensor nodes are supposed to operate over long time periods without human intervention [1,2].
Modeling of energy consumption is an important consideration in the design of communicating sensors for monitoring a speciﬁc target application. Communicating sensors should perform the following tasks for most applications [1,3]: sense events, local information processing of sensed events and packet transmission to the access point [3,4]. Each task consumes a power consumption amount during a given time duration. Therefore, an accurate energy consumption model of the sensor node is essential to estimate the sensor lifetime [5]. This energy model allows optimizing the power consumption of the sensor node.
The proposed energy model is based on LoRa and LoRaWAN technologies. The LoRa system operates at the ISM frequency bands, which makes it an attractive solution for the Internet of Things and Machine to Machine (M2M) systems [6,7]. Its low power associated to the long range communication pushes LoRa to the top of the LPWAN technologies. Due to its unique modulation, LoRa is a very versatile technology that can be adapted to different environment types and application classes [8].

Sensors 2018, 18, 2104; doi:10.3390/s18072104

www.mdpi.com/journal/sensors

Sensors 2018, 18, 2104

2 of 23

In this paper, we focus on the LoRaWAN protocol which was developed by LoRa Alliance to serve IoT applications. The LoRaWAN characteristics have a great inﬂuence in determining the battery lifetime of the sensor node [9,10]. In fact, using LoRaWAN technology can optimize the energy consumption by adapting its principal parameters.
The goal of this work is to propose an energy consumption model for sensor nodes using LoRa modulation and LoRaWAN protocol. This model is evaluated using different LoRaWAN modes. Besides, we study the impact of LoRaWAN parameters such as acknowledged transmission, spreading factor, coding rate, payload size and communication range on the sensor node consumption.
The rest of the paper is organized as follows. Section 2 presents related works. The wireless sensor design is described in Section 3. Section 4 depicts our energy consumption model. The LoRa modulation technique and the LoRaWAN characteristics are exposed in Section 5. Numerical results are explained in Section 6. Finally, conclusion and future works are given in Section 7.
2. Related Works and Contributions
LoRa and LoRaWAN technologies are relatively recent standards [11]. Most existing research based on LoRa and LoRaWAN has focused on features such as delay, range, throughput and network capacity [8,11–13]. Since the LoRa modulation is deployed for sensor applications, several papers evaluated this new technology with respect to its energy consumption.
Driven by the challenges of energy consumption of wireless sensor applications, many recent works have focused on the power dissipation of communicating sensors. Terrasson, et al. present an energy model for Ultra-Low Power sensor nodes in [14,15]. In these papers, the authors described the modeling of a sensor node dedicated to wireless sensor network applications. However, the RF module used in this study was the CC1100 module (a short range device) which did not include the LoRa technology. An other energy estimation model is presented in [16], The goal of this work is to obtain a low power consumption of sensor nodes. To save power, Mare S. et al. have concluded that the communication module and the microcontroller must be in idle state as long as possible when they are not active. This work proposes interesting results, but LoRa and LoRaWAN technologies are not integrated into this study. Phui, et al. proposed a comparison of LoRaWAN classes and their power consumption in [17]. The objective of this study is to offer an experimental comparison of LoRaWAN classes to verify the published current levels of different operating modes in LoRa datasheets. The measurement results allow to estimate the lifetime of end-node devices. However, in this paper, the authors did not study the effect of different LoRaWAN parameters such as coding rate, communication range and transmission power level on the total consumed energy.
Many other studies provide the power consumption of sensor nodes based on LoRa/LoRaWAN. Most of the current values were obtained from the datasheet or by empirical means [18–20], without developing an energy model that can estimate and optimize the energy consumption of the wireless sensors. Casals, et al. developed current models that allow the characterization of LoRaWAN devices lifetime and energy cost in [21]. The proposed models were very important and derived from measurement results using a currently prevalent LoRaWAN platform. However, Casals, et al. did not include the energy consumption of the processing and the sensor units. In our paper, we have modeled these units for an application scenario of connected sensor. Another major difference is that we have illustrated our energy model with optimization of LoRaWAN parameters such as the spreading factor SF, the coding rate CR, the bandwidth BW, the payload size and the communication range. Optimizing these parameters is very important to reduce the energy consumption of the sensor node.
The previous works were proposed to estimate the amount of energy consumption by a sensor node. Some of these studies have not included LoRa technology into their energy models, so they used different RF transceivers which are mainly dedicated to short range communication. Other works did not study the energy optimization of sensor nodes. In fact, optimizing LoRa and LoRaWAN parameters are very interesting to reduce the energy consumption by the communicating sensor.

Sensors 2018, 18, 2104

3 of 23

To estimate and optimize the consumed energy by the sensor node, we propose a full energy model based on LoRa/LoRaWAN technologies. This model is based on LoRaWAN Class A, which is the most energy efﬁcient class in the protocol. The proposed model takes into account the modeling of the sensor node units and especially the processing and the sensor units using a real IoT application. Then, different LoRaWAN transmission modes are studied to choose the best mode that can optimize energy consumption. Besides, a detailed optimization study of LoRa/LoRaWAN parameters such as spreading factor, coding rate, bandwidth, communication range and transmission power is presented to maximize the sensor lifetime. The energy model takes into account the transmission acknowledgment and its energy consumption cost using different LoRaWAN scenarios.
3. Sensor Node Design
The proposed node model is depicted in Figure 1. The sensor node can transmit data to an access point using the LoRa/LoRaWAN radio module. To carry out its different operations, the sensor needs an embedded energy source [22]. This source is a battery in this study. In this paper, we consider a connected sensor to measure the acceleration values. Internal memory integrated into the microcontroller is enough for this type of application and we don’t consider external memory.

Figure 1. Sensor node architecture.
The three main units of the sensor are the sensor unit, the processing unit and the radio module. Each block is brieﬂy described in the following paragraphs.
3.1. Sensor Unit
The sensor unit can detect and respond to different inputs from the environment. These speciﬁc inputs can be light, heat, pressure, acceleration, etc. The input signal is generally an analog signal that is converted to digital form with an Analog to Digital Converter (ADC). The ADC unit is integrated into the sensor unit in this study. Both sensing and conversion processes take time and consume power [11].
3.2. Processing Unit
The processing manages all the resources utilized for the system operation [22]. This block is responsible for acquisition of output signal from the sensor unit, process the data after acquisition and communicate these data to the LoRa transceiver. Our embedded system is based on the STM32L073 microcontroller from ST Microelectronics [12]. This microcontroller can be optimized for very low power consumption.

Sensors 2018, 18, 2104

4 of 23

3.3. Communicating Unit
Once the essential data processing is done, the information can be communicated to the access point [22]. Several standards have been proposed in the recent years for the IoT applications [11,12]. Among these, Low-Power Long-Range radio (LoRa and LoRaWAN) are gaining a lot of interest because of the high receiver sensitivity (down to −137 dBm). These technologies can reach long transmission distance (up to 20 km). In our design model, LoRa/LoRaWAN are implemented using the Semtech’s SX1272 transceiver.
4. Energy Consumption Model
To study the node autonomy, it is necessary to model each node block. In this section, we present different operating modes of sensor nodes. Then, the consumed energy of each mode is calculated and the consumption energy model is deduced.
4.1. Methodology and Assumptions
Figure 2 illustrates a possible working sequence of the sensor node and allows deﬁning different operating modes, which are managed by the processing unit.

Figure 2. Sensor working scenario.
Our energy consumption model is based on the following assumptions:
• As proposed in [1,4,14,15], the processing unit is in on-state along the working sequence. To optimize the consumed power by the MCU unit, this assumption can be improved to make the MCU unit in low-power modes during most of the activity cycle.
• Each step of the sensor working sequence is characterized by a constant time duration. • The radio module transmits a packet of information at a ﬁxed transmission power level. • No local storage of information is considered in this model but we assume a real-time transmission
of all measured data.
4.2. Proposed Energy Model
This part deﬁnes the different operating modes of the communicating sensor. A ﬁrst approach consists in considering all elements active during a ﬁxed time duration and inactive for the rest of the time cycle. Most of the time, the wireless sensor is in sleep mode. The consumed energy in this mode could impact the power consumption amount of the sensor. Then, it is necessary to consider the sleep mode consumption in our model. In this study, all peripherals are powered at the same voltage level

Sensors 2018, 18, 2104

5 of 23

equal to 3.3 V, except the sensor unit which is powered at 2 V. The total consumed energy ETotal used by the communicating sensor for one cycle is given by Equation (1):

ETotal = ESleep + EActive,

(1)

where ESleep and EActive are the dissipated energy by the node in the sleep mode and the total energy consumption during the active mode of the microcontroller, respectively. ESleep is expressed as:

ESleep = PSleep · TSleep,

(2)

where PSleep and TSleep are the power consumption and the time duration in the sleep mode, respectively. The total energy consumption EActive is calculated as the sum of the energy consumption of each
part of the sensor node. It is given by the following equation:

EActive = EWU + Em + Eproc + EWUT + ETr + ER,

(3)

where EWU, Em, Eproc, EWUT, ETr and ER are, respectively, the consumed energies in the system wake-up, the data measurement, the microcontroller processing, the wake-up of the LoRa transceiver,

the transmission mode and the reception mode. Then, before doing measurements, the wake-up of

the sensor node is managed by the processing unit. The consumed energy EWU during the wake-up

duration TWU is given by:

EWU = PON ( fMCU ) · TWU,

(4)

where PON( fMCU) and TWU are the consumed power by the microcontroller (which depends on the microcontroller frequency fMCU) and the wake-up duration, respectively.
After the wake-up time, the sensor realizes data measurements. Equation (5) presents the amount of dissipated energy Em during this phase:

Em = (PON ( fMCU ) + Pm) · Tm,

(5)

where Pm and Tm are the consumed power and the corresponding time duration of

measurements, respectively.

After the measurement step, the microcontroller proceeds to data processing. The time duration

Tproc( fMCU) depends on microcontroller operating frequency fMCU and on the number of instructions

Ninst

(Tproc( fMCU ) =

Ninst f MCU

).

In

Equation

(6),

we

calculate

the

consumed

energy

by

the

processing

unit

(we assume one instruction/clock period):

Eproc = PON ( fMCU ) · Tproc( fMCU )

(6)

Then, the consumed energy EWUT during the transceiver wake-up TWUT is given by:

EWUT = (PON ( fMCU ) + PWUT ) · TWUT,

(7)

where PWUT is the consumed power during the wake-up of the transceiver. After that, the consumed energy ETr by the transmit mode is expressed as:

ETr = (PON ( fMCU ) + PTr) · TTr,

(8)

where PTr is the dissipated power by the transmit mode and TTr is its time duration, it is given by

Equation (9):

TTr = Nbit · Tbit,

(9)

Sensors 2018, 18, 2104

6 of 23

where Nbit and Tbit are, respectively, the number of transmitted bits and the duration of one bit transmission.
In the case of acknowledgment transmission, the consumed power by the sensor node denoted ER is given by the following equation:

ER = (PON ( fMCU ) + PR) · TR,

(10)

where PR is the dissipated power by the reception mode and TR is the corresponding time duration. Moreover, the consumed energy by the microcontroller EMCU in on-state is given in Equation (11):

EMCU = PON ( fMCU ) · TMCU ( fMCU ),

(11)

where the microcontroller time duration TMCU( fMCU) depends on the overall working time in the different modes. It can be written as the following:

TMCU ( fMCU ) = TWU + Tm + Tproc( fMCU ) + TWUT + TTr + TR,

(12)

After developing our energy model, the next section depicts the characteristic of the communication link between the sensor node and the gateway, using the LoRa/LoRaWAN technologies.

5. LoRa and LoRaWAN Technologies
In this section, we discuss several LoRa/LoRaWAN characteristics. We start by introducing the overview of these technologies. Then, the different LoRa/LoRaWAN basics are presented.

5.1. LoRa and LoRaWAN Overview
The LoRa is a long range technology with low power consumption that uses the ISM band (the unlicensed radio spectrum in the industrial, scientiﬁc and medical radio band). The objectives of this technology is to increase sensor battery lifetime and reduce the device cost [23]. LoRa uses the CSS modulation (Chirp Spread Spectrum) to maintain low power characteristics for the beneﬁt of increasing communication range [9]. The LoRaWAN is a wireless communication protocol developed by LoRa Alliance to serve for different challenges faced with long range communication in IoT applications [9].
Figure 3a depicts the LoRaWAN network architecture. The End-devices (different sensor types) communicate to the gateway using LoRa/LoRaWAN RF interface. The gateway transmits frames to the server through a non-LoRaWAN network such as Ethernet, 3G/4G, Wi-Fi, etc. [24]. Figure 3b shows the LoRaWAN communication stack. As can be seen, the physical layer deﬁnes the ISM band (868 Mhz in Europe). In this paper, we focus on LoRa modulation without considering the Frequency Shift Keying (FSK) modulation because the LoRa modulation is more adapted to long range communication with low power consumption as indicated in [25]. The CSS modulation has been implemented by Semtech in the LoRa modulation layer. Then, the LoRa Alliance has deﬁned the LoRaWAN communication protocol speciﬁcations in the protocol layer [26].
Taking into account the application needs, The LoRaWAN speciﬁcation deﬁnes three classes available for different power usage strategies [26]. These classes are illustrated in Figure 4 and can be brieﬂy described as follows:

1. Class A: In this case, sensor can initiate an uplink transmission based on their own needs. This class allows bi-directional communication, each uplink transmission is followed by two short downlink messages. Class A has the lowest power consumption [26,27].
2. Class B: The gateway initiates the communication by transmitting downlink messages (ping slots), so the end-device can receive additional windows at scheduled ﬁxed time-intervals. A periodic beacon from the gateway is required for synchronization. This class has the medium power consumption [27,28].

Sensors 2018, 18, 2104

7 of 23

3. Class C: End-devices of this class have nearly continuously open receive windows, which can only be closed when transmitting. Class C end-devices use more power to operate than Class A or B but they offer the lowest latency for server to end-device communication [27].

(a)

(b)

Figure 3. (a) LoRaWAN network architecture; and (b) LoRaWAN protocol stack.

Figure 4. Different LoRaWAN classes.
Table 1 summarizes the LoRaWAN class characteristics. As mentioned before, all transactions are started by the sensor in the case of Class A, whereas the network server can only transmit two downlink slots [17]. Then, the radio receiver stays active until the downlink frame is demodulated. If a frame was detected and subsequently demodulated during the ﬁrst receive window and the frame was intended for this end-device after address and MIC (message integrity code) checks, the end-device does not open the second receive window. This class have the minimum impact on the battery lifetime of the sensor. For all of these reasons, LoRaWAN Class A will be studied in the rest of this paper.

Sensors 2018, 18, 2104

8 of 23

Table 1. LoRaWAN class comparison.

Class
Class A Class B Class C

Brief Description
Sensor initiate communication, downlink after transmission Slotted communication synchronized with beacon frames Devices listen continuously, downlink without latency.

Power Consumption
Most energy efﬁcient Efﬁcient with controlled downlink
high power consumption

5.2. LoRa Modulation Technique

5.2.1. LoRa basics
The LoRa radio has different conﬁguration parameters: the carrier frequency, the spreading factor, the bandwidth and the coding rate [9,10]. The combination of these parameters provides different energy values and transmission ranges:

• Carrier Frequency (CF): The CF is the center frequency used for the transmission band. For the

SX1272 transceiver, CF is in the range of 863 MHz to 870 MHz in Europe.

• Spreading Factor (SF): The SF is the number of chips per symbol. Its value is an integer number

between 6 and 12. The greater value of SF, the more capability the receiver has to move away the

noise from the signal. Thus, the greater value is taken, the more time is taken to send a packet.

• Bandwidth (BW): The BW represents the range of frequencies in the transmission band [16]. It can

only be chosen among three options: 125 kHz, 250 kHz or 500 kHz. If a fast transmission is required,

a 500 kHz value is better. However, if a long range is needed, a 125 kHz value must be configured.

•

Coding

Rate

(CR):

The

coding

rate expression is

CR

=

4

4 +

n

,

n is

from

1

to

4.

It denotes that

every four useful bits are encoded by 5, 6, 7 or 8 transmission bits. The smaller the coding rate is,

the higher the time on air is to transmit data.

The nominal bit-rate (in bits per second), is obtained taking into account these parameters. The expression of the bit-rate is given in Equation (13):

Rbit

=

SF

·

BW 2SF

· CR

(13)

Table 2 presents the chirp packet length based on the SF parameter. Modifying this parameter

provides a trade-off between increasing the communication distance and decreasing the data transfer

rate. Each symbol is spread through a chirp code whose length is 2SF. The receiver divides the received

code

into

2SF SF

length

blocks

which

can

be

then

decoded.

Table 2. Chirp code length.

Spreading Factor: SF
7 8 9 10 11 12

Chirp Code Length (Bit)
128 256 512 1024 2048 4096

5.2.2. LoRa Packet Structure

This part presents the LoRa frame deﬁnition. This frame starts with a preamble which is used for

the synchronization between the receiver and the transmitter [9–11]. After the preamble, an optional

header carries the size of the payload and the information about the LoRa conﬁguration. It is noted

that the header is always encoded with a CR

=

4 8

.

The payload is encoded with a variable CR.

Sensors 2018, 18, 2104

9 of 23

An optional Cyclic Redundancy Check (CRC) is sent at the end of the frame. Figure 5 depicts the LoRa frame content.

Figure 5. LoRa packet structure.

To calculate the time on air (or packet duration), we start with the calculation of the payload symbol [16]. For a given payload noted PL (in bytes), a spreading factor SF and a coding rate CR, the number of symbols NPayload used to transmit the payload can be calculated by Equation (14):

NPayload = 8 + max

ceil

Θ(PL, SF) Γ(SF)

·

1 CR

,

0

,

(14)

where ceil indicates the ceiling function, Θ(PL, SF) = 8 · PL − 4 · SF + 16 + 28 − 20 · H; with H = 0 when the header is enabled and H = 1 when no header is present and Γ(SF) = SF − 2 · DE; with DE = 1 when the low data rate optimization is enabled and DE = 0 for the other case. Then, the time on air is the sum of the preamble and the payload duration:

TPacket = TPreamble + TPayload,

(15)

where TPacket, TPreamble and TPayload are, respectively, the packet duration, the preamble duration and the payload duration. The preamble duration is expressed as:

TPreamble = (4.25 + NP) · TSymbol,

(16)

where Np is the preamble symbol number and TSymbol is the symbol period. It is deﬁned as the time taken to send 2SF chips. Then, recalling that the bandwidth BW is equal to the chip rate, the symbol

period is given by Equation (17):

TSymbol

=

2SF BW

(17)

The payload duration is deﬁned in Equation (18):

TPayload = NPayload · TSymbol

(18)

We introduce the energy per useful bit Ebit in this paper, which is an important metric to evaluate the power consumption of the sensor node. The Ebit expression is given in Equation (19):

Ebit

=

ETotal 8 · PL

=

Pcons(PTr) · 8 · PL

TPacket

,

(19)

where PL, ETotal and Pcons(PTr) the payload size, the total consumed energy and the total consumed power which depends on transmission power. Using Equations (15), (16) and (18), the energy per useful bit can be rewritten in the following equation:

Ebit

=

Pcons(PTr) · TPacket 8 · PL

=

Pcons(PTr) · (NPayload + NP + 4.25) · TSymbol 8 · PL

(20)

Sensors 2018, 18, 2104

10 of 23

Replacing TSymbol with its expression in Equation (17), we can write Ebit as a function of the spreading factor SF. As can be seen, the Ebit is an increasing function according to SF:

Ebit

=

Pcons(PTr) · (NPayload + NP + 4.25) · 2SF 8 · PL · BW

(21)

Table 3 presents different transmission power levels and corresponding current consumption that can be used with the LoRa SX1272 transceiver [29].

Table 3. LoRa SX1272 characteristics.

Transmission Power (dBm)
20 17 13 7

Power Consumption (mW)
412.5 297 92.4 95.4

5.2.3. Acknowledgment Transmission, Communication Range and Sensitivity
As presented in Figure 6, following each uplink transmission, the sensor node opens two short receive slots in the Class A. The ﬁrst RX1 message uses the same frequency channel as the uplink frame (the RX Delay 1 is equal to 1 s for the SX1272 LoRa transceiver). The second receive window RX2 uses a ﬁxed conﬁgurable frequency and data rate (the RX Delay 2 is equal to 2 s for the SX1272) [30]. These RX messages can be considered as a transmission acknowledgement (ACK). The internal structure of the ACK message is depicted in Figure 6. The ACK packet is ending with the Message Integrity Code (MIC).

Figure 6. LoRa ACK structure.

To calculate the communication range of LoRaWAN system, different statements can be found reaching from multiple kilometers to a maximum range of 15 km [27]. The communication range noted d can be estimated using the path-loss Lpath expression:

Lpath

=

(4 · π c

·

f

)2

· dn,

(22)

where f is the LoRa frequency, c is the light speed and n is the path-loss exponent, it can be equal to 2

(for free space), 3 (for urban area) and 6 (for high obstruction). Then, the link budget Lbudget for the

transmission path is expressed as:

Lbudget

=

SR

PTr (SF, BW

)

,

(23)

where PTr and SR(SF, BW) are, respectively, the transmitted power and the receiver sensitivity, which depends on spreading factor and bandwidth. The sensitivity of the receiver is deﬁned by the minimum received power to detect the signal. This sensitivity is obtained for a minimum Signal

Sensors 2018, 18, 2104

11 of 23

to

Noise

Ratio

(SNR)

equal

to

Ebit N0

,

where

Ebit

is

the

energy

per

bit

and

N0

is

the

noise

power

spectral

density. Deﬁne SNR0 equal to this minimum:

SNR0

=

Ebit N0

(24)

We have Ebit = Sr · Tbit where Sr is the received power and Tbit is the bit duration. The relation

between Tbit

and Tchirp

is Tbit

=

Tchirp · 2SF.

Assuming that Tchirp

=

1 BW

,

Equation

(24)

can

be

written:

SNR0

=

Sr · 2SF NF · k · T · BW

(25)

Then, Equation (25) can be rewritten as the following:

Sr

=

SNR0

·

N·k 2SF

·

T

·

BW

(26)

Using the datasheet of the SX1272 transceiver [29], the receiver sensitivity can be deﬁned in the following equation:

SR(SF, BW) = SNR(SF) · N0 = SNR(SF) · NF · k · T · BW,

(27)

where NF, k, T and SNR(SF) are the receiver architecture noise ﬁgure, the Kelvin constant, the temperature and the Signal to Noise Ratio, respectively. Comparing Equations (26) and (27), the SNR(SF) is given in Equation (28):

SNR(SF)

=

SNR0 2SF

,

(28)

where SNR0 equals 15 dB for the SX1272 transceiver [29]. Then, to have the estimation value of maximum communication range of LoRa link, we assume
that there are no antenna gains and set the path loss Lpath equal to Lbudget. Equation (29) depicts the Lpath expression:

Lpath

=

PTr SR(SF, BW)

=

SNR(SF) ·

PTr NF · k · T

·

BW

=

SNR0

PTr · 2SF · NF · k · T · BW

(29)

Using Equations (22), (23), and (27)–(29), the LoRaWAN range noted d can be estimated as follow:

d=

Lpath

(

4·π· c

f

)2

1

n
=(

c

)2 ·

PTr · 2SF

1 n

4 · π · f SNR0 · NF · k · T · BW

(30)

The LoRaWAN range is an increasing function according to SF (meaning that we should use high

SF values to reach long LoRaWAN range).

6. Numerical Results and Discussions
In this section, we start by presenting a use case of our energy consumption model. Then, simulation results of LoRa/LoRaWAN are presented. We ﬁnish by discussing the performance of our energy model using different LoRaWAN modes.

6.1. Application Case
To illustrate the application of our energy model, the considered use case is the monitoring of high voltage electrical network pylons. The purpose of this application is to measure the pylon movement. The system composition is depicted in Figure 7. The whole hardware/software system is powered by

Sensors 2018, 18, 2104

12 of 23

a battery. The sensor unit is composed of an accelerometer which measures the pylon deviation and sends data measurements to the processing unit. The processing unit will retrieve the acceleration measurements and it will do the necessary treatment. Then, the LoRa transceiver ensures the data transmission to the corresponding gateway.

Figure 7. Hardware of the sensor node.

Table 4 depicts the main parameters of this application.

Table 4. Parameters of the application.

Parameters
Useful bits to transmit Battery capacity
Self-discharge current of the battery Transmission power
Supply voltage (MCU, transceiver) Supply voltage (Sensor unit)

Values
32 bits 950 mAh 7.5 × 10−3 mA 13 dBm
3.3 V 2V

In summary, the communicating sensor realizes periodical measurements of the acceleration. After the sensing phase, data frames are sent to the access point using LoRa technology. Then, energy consumption of LoRa Class A will be discussed taking into account the acknowledgment transmission.
6.2. Modeling of LoRa/LoRaWAN
This section focuses on the LoRa modulation scheme and the LoRaWAN protocol taking into account the variation effect of the spreading factor, the coding rate and the bandwidth, which are critical parameters permitting a trade-off between energy consumption and nominal data rate [22]. Table 5 summarizes the characteristics of three LoRaWAN modes that can be used with the SX1272 transceiver.
Table 5. Different LoRaWAN modes [31].

Modes
Mode 1 Mode 2 Mode 3

Characteristics

BW

=

125

kHz,

SF

=

12,

CR

=

4 5

BW

=

250

kHz,

SF

=

10,

CR

=

4 5

BW

=

500

kHz,

SF

=

7,

CR

=

4 5

Explanations
Largest distance mode (max range and slow data rate) Intermediate mode
Minimum range, high data rate and minimum battery impact

6.2.1. Effect of SF and CR on Consumed Energy
Using Equation (15), Figure 8 displays the time on air as a function of payload size at different SF and CR values. The bandwidth channel is set to 500 kHz. When the SF is high, the time on air increases

Sensors 2018, 18, 2104

13 of 23

(Figure 8a), which means that the sensor node consumes more power to transmit data. The effect of CR on the time on air is depicted in Figure 8b. We note that increasing the number of encoding bits causes an increase of packet transmission, which allows consuming more power by the radio module.

500 SF = 7 SF = 8
400 SF = 9 SF = 10
300 SF = 11 SF = 12
200

30

CR=4/5

CR=4/6

25

CR=4/7

CR=4/8

20

15

Time on air (ms)

Time on air (ms)

100

10

0

10

15

20

25

30

35

Payload (bits)

(a)

5

10

15

20

25

30

35

Payload (bits)

(b)

Figure 8. (a) Time on air vs. payload at different SF; and (b) time on air vs. payload at different CR.

Figure 9a presents the consumed energy per useful bit as a function of the payload at different spreading factors (SF). Using Equation (21), it is noted that this energy decreases with the increase of the number of useful bits. This result is shown in Figure 9b, which depicts the evolution of the energy per useful bit as a function of SF for constant payload size (equal to 10 bits). As mentioned before, the greater value of SF, the more time is taken to send a packet, so the more consumed energy is needed to transmit data.

Energy per useful bit (µJ)

10

SF = 7

8

SF = 8

SF = 9

6

4

2

0

10

15

20

25

30

35

Payload (bits)

(a)

Energy per useful bit (µJ)

60

55

50

45

40

35

30

25

20

15

10

5

07

8

9

10

11

12

SF, Payload = 10 bits

(b)

Figure

9.

(a)

Effect

of

SF

on

the

consumed

energy,

CR

=

4 5

;

and

(b)

energy

per

useful

bit

evolution

as

a

function of SF.

The effect of the coding rate (CR) on the energy per useful bit is depicted in Figure 10. When the coding rate decreases, the time on air and the consumed energy are increased.
The results presented in Figures 8–10 show that optimizing the LoRa parameters such as SF, CR and payload size is a key element to reduce the consumed energy by the sensor node.

Sensors 2018, 18, 2104

14 of 23

Energy per useful bit (µJ)

3.5 CR=4/5

3

CR=4/6

CR=4/7

2.5

CR=4/8

2

1.5

1

10

15

20

25

30

35

Payload (bits)

Figure 10. Effect of CR on the consumed energy, SF = 7 and BW = 500 KHz.

6.2.2. LoRaWAN Communication Range
Referring to Equation (30), Figure 11 presents the required output power as a function of the LoRaWAN communication range at different spreading factor SF (assuming a path-loss exponent equal to 3 for urban area). Using LoRaWAN protocol, the theoretical maximum range that can be achieved at determined power level is obtained with SF equal to 12. In fact, with SF = 12, the sensor node needs 10 dBm to transmit data for 5 km in urban area with little obstructions. However, the sensor needs 25 dBm to transmit the same data for the same distance with SF = 7.

Output power (dbm)

50

37.5

25

SF = 12

12.5

SF = 11

0

SF = 10

−12.5

SF = 9

SF = 8

−25

SF = 7

−37.5

−50

0

0.5

1

1.5

2

2.5

3

Range (m)

x 104

Figure 11. Required output power vs. LoRaWAN range.

The maximum LoRaWAN range as a function of SF at different transmission powers is depicted in Figure 12 using Equation (30). As we can see, if the SF increases, the LoRaWAN range increases. For a constant SF value, the LoRaWAN range increases with increasing transmission power. In fact, to reach a communication range of 4 km with SF equal to 9, we can use both 17 and 20 dBm. However, for high communication ranges (greater than 10 km), the transmission power must be ﬁxed 20 dBm with SF equals 12. These observations are very important for the conception of our energy model: by setting a LoRaWAN transmission distance and using results in Figures 11 and 12, we can have an idea about the optimal output power and spreading factor to use for our application, which help to minimize the energy consumption by the sensor node.

Sensors 2018, 18, 2104

15 of 23

12 Ptr = 7 dBm
Ptr = 13 dBm 10
Ptr = 17 dBm
Ptr = 20 dBm 8

Maximum LoRaWAN Range (km)

6

4

2

0

7

8

9

10

11

12

SF

Figure 12. Maximum LoRaWAN range vs. SF.

Using Equations (21) and (30), Figure 13 presents the energy per useful bit evolution as a function of maximum range at different payload sizes for both 7 dBm and 13 dBm. The maximum range is reached with SF equals to 12 for both cases (we can reach 4 km with 7 dBm in Figure 13a and 6.1 km with 13 dBm in Figure 13b). It can be noticed that, if the payload size increases, the energy per useful bit decreases for high SF values (for low SF values, the payload variation does not have important effect on energy per useful bit). To reach 3 km with payload size equal to 4 bytes, we must conﬁgure SF at 11 with transmission power 7 dBm which consumes 0.21 mJ/bit. However, using transmission power 13 dBm, we can use SF equals 9 to reach the same distance 3 km with energy consumption of only 0.08 mJ/bit.

Energy per useful bit (µJ) Energy per useful bit (µJ)

500

SF = 12

400

Payload = 4 bytes

Payload = 6 bytes

300

Payload = 8 bytes

SF = 11 200

SF = 10

100

SF = 9

SF = 7 SF = 8

00 0.5 1 1.5 2 2.5 3 3.5 4
Range (km); Ptr = 7dBm

(a)

700 SF = 12

600

Payload = 4 bytes

Payload = 6 bytes

500

Payload = 8 bytes

400

SF = 11

300

200

SF = 10

SF = 9

100

SF = 7 SF = 8

00

1

2

3

4

5

6

Range (km); Ptr = 13dBm

(b)

Figure 13. (a) Ebit vs. LoRaWAN range at different payloads (PTr = 7 dBm); and (b) Ebit vs. LoRaWAN range at different payloads (PTr = 13 dBm).

In summary, using results found in Figures 11–13, we note that there is a trade-off among the LoRaWAN communication range, the spreading factor and the transmission power. In this case, the increase of the transmission power is more interesting in terms of consumed energy than the increase of the spreading factor. Then, we can refer to these results to ﬁnd the best LoRaWAN parameter values for our application and to optimize the energy consumption of the sensor node.

Sensors 2018, 18, 2104

16 of 23

6.3. Full Communicating Sensor-Energy Consumption Results
In this part, we will evaluate the performance of our energy consumption model using LoRaWAN mode 3 (Table 5) because the provided range is enough for our application and this allows saving the use of the battery. For that, the following scenario is proposed:
The sensor node realizes measurements of the acceleration and transmits acceleration value every 30 s. It is noted that the microcontroller operating frequency is equal to 4 MHz in this study. Table 6 shows the power and time parameters of the model. These parameters are given in the BMA220, STM32L073 and SX1272 datasheets [29,32,33].

Table 6. Characteristics of sensor node tasks.

Task
Sensor (BMA220) Data transmission (SX1272) MCU STM32L073 (4 MHz)

Time Duration (ms)
25 6.5 33.5

Consumed Power (mW)
10.5 92.4 1.8

Figure 14 depicts possible scenarios of the sensor node based on LoRaWAN Class A. The ﬁrst scenario is to transmit data to the gateway without receiving both RX1 and RX2. The second one is to transmit data and receive RX1 without receiving RX2. The third scenario is to transmit data and demodulate RX1 which contains transmission error, so that the node must demodulate RX2.

Figure 14. Proposed LoRaWAN (Class A) scenarios.
6.3.1. Consumed Energy: Scenario 1
Figure 15 presents the power consumption amount by each task of the communicating sensor. As indicated before, the main energy consumers are the microcontroller unit (EMCU = 0.061 mJ), the sensor unit (Em = 0.26 mJ) and the RF unit (ETr = 0.59 mJ). It is noted that the transceiver part is the main energy consumer in the sensor node. In this case, the LoRa frame must be retransmitted by the sensor node. As indicated in [34], if the downlink message is lost for any reason, the LoRa speciﬁcations recommends to transmit packet up to eight times.

Sensors 2018, 18, 2104

17 of 23

Consumed energy (mJ)

0.8
LoRa

0.7

Transmission:

0.59 mJ

0.6

0.5

0.4

Sensor:

0.26 mJ
0.3

0.2 MCU:

0.061 mJ Wake−Up:

0.1

1.8 µJ

Data

Transceiver

processing: Wake−up:

1.8 µJ

2 µJ

0

1

2

3

4

5

6

Sensor node tasks

Figure 15. Energy consumption of sensor node: Scenario 1.

Figure 16 depicts the battery life as a function of measurement period, with a capacity of 950 mAh and a supply voltage of 3.3 V, the sensor node autonomy is estimated at 5 years, 1 month and 24 days (61.8 months) when the measurement period is equal to 30 s.

120

100

Battery life (month)

80

60 61.8 months
40

20

00 30 60 90 120 150 180 210 240 270 300 330 360 390 420 450 480
Measurement period (s)
Figure 16. Sensor node autonomy: Scenario 1.
6.3.2. Consumed Energy: Scenario 2
In this scenario, we suppose that the sensor node transmits data to the gateway, then it receives the ﬁrst acknowledgment RX1 to conﬁrm data transmission (in this case, the sensor node will not demodulate the second acknowledgment RX2). The energy consumption by the communicating sensor is given in Figure 17. As can be seen, the difference from Scenario 1 are the dissipated energy by the LoRa receiver (ER = 0.27 mJ) and the consumed energy by the MCU unit.

Sensors 2018, 18, 2104

18 of 23

Consumed energy (mJ)

0.8
LoRa

0.7

Transmission:

0.59 mJ

0.6

0.5

0.4

Sensor:

0.3

0.26 mJ

RX1: 0.27 mJ

0.2 MCU:

0.1

0.073 mJ Wake−Up: 1.8 µJ

Data

Transceiver

processing: Wake−up:

1.8 µJ 2 µJ

0

1

2

3

4

5

6

7

Sensor node tasks

Figure 17. Energy consumption of sensor node: Scenario 2.

Figure 18 presents the sensor node lifetime using the same battery characteristics (capacity equals 950 mAh and supply voltage of 3.3 V). The sensor node autonomy is estimated at 4 years, 6 months and 12 days (54.4 months) for the same measurement period (30 s), which is 7.4 months shorter than Scenario 1 (i.e., there is a loss equal to 12% of the battery life compared to Scenario 1).

120

100

Battery life (month)

80

60
54.4 months
40

20

0 0 30 60 90 120 150 180 210 240 270 300 330 360 390 420 450 480
Measurement period (s)
Figure 18. Sensor node autonomy: Scenario 2.
6.3.3. Consumed Energy: Scenario 3
For this scenario, the communicating sensor transmits data to the gateway and receives the RX1 acknowledgment which contains transmission error for example. The sensor node must demodulate the RX2 acknowledgment to verify the transmission success (which means that it will consume more energy than Scenario 2). The dissipated energy by the communicating sensor is given in Figure 19. We remark that the consumed energy is tdouble that consumed by the LoRa receiver (ER = 0.54 mJ).

Sensors 2018, 18, 2104

19 of 23

Consumed energy (mJ)

0.8

LoRa

0.7

Transmission: RX1

0.59 mJ

and RX2:

0.6

0.54 mJ

0.5

0.4

Sensor:

0.3

0.26 mJ

0.2 MCU:

0.1

0.081 mJ Wake−Up: 1.8 µJ

Data

Transceiver

processing: Wake−up:

1.8 µJ

2 µJ

0

1

2

3

4

5

6

7

Sensor node tasks

Figure 19. Energy consumption of sensor node: Scenario 3.

The sensor node lifetime is depicted in Figure 20. The autonomy of the node is estimated at 4 years and 21 days (48.7 months) for this case (i.e, there is a loss equal to 22.2% of the battery life compared to Scenario 1).

120

100

Battery life (month)

80

60
40 48.7 months

20

0 0 30 60 90 120 150 180 210 240 270 300 330 360 390 420 450 480
Measurement period (s)
Figure 20. Sensor node autonomy: Scenario 3.

6.3.4. Comparison between Proposed Scenarios
Table 7 presents comparison between the proposed scenarios. As we can see, the sensor node lifetime in Scenario 1 is higher than Scenarios 2 and 3. These results show the energy consumption cost of receiving downlink messages from the gateway.

Table 7. Comparison between different scenarios

Scenario
Scenario 1 Scenario 2 Scenario 3

Characteristics
TX; RX1 and RX2 not done TX; RX1 done; RX2 not done TX; RX1 not done ; RX2 done

RF Energy Consumption (mJ)
ETr = 0.59; ER = 0 ETr = 0.59; ER = 0.27 ETr = 0.59; ER = 0.54

Sensor Autonomy (Months)
61.8 54.4 48.7

Sensors 2018, 18, 2104

20 of 23

Equation (31) depicts the total consumed energy Etotal as a function of the probability of having Scenario 3 noted p:

Etotal = (1 − p).Escenario2 + p.Escenario3,

(31)

where Escenario2 and Escenario3 are the total consumed energies using Scenarios 2 and 3, respectively. Using results in Sections 6.3.2 and 6.3.3, the sensor node autonomy as a function of probability p is given in Figure 21. We remark that the sensor node lifetime decreases from 54.4 months when p = 0 (which is the sensor node lifetime using Scenario 2) to 48.7 months when p =1 (the probability that Scenario 3 occurs).

Sensor node lifetime (month)

55 p = 0:

54

Battery life = 54.4 months

Scenario 2

53

p = 1:

52

Battery life = 48.7 months

Scenario 3 51

50

49

48 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 Probability: p

Figure 21. Battery life vs. probability of having Scenario 3.

In the ideal case (data transmission with acknowledgment reception and without transmission error), Scenario 2 is the most frequent one (meaning that the probability p is closed to 0). Thus, Scenario 2 is selected for the rest of this paper.
6.4. Effect of LoRaWAN Mode in Sensor Node Lifetime
Table 8 shows the effect of different LoRaWAN modes on the sensor node autonomy. As mentioned in Table 5, Mode 3 is the higher data rate with lower range which have the minimum battery impact (the sensor node autonomy can reach 4 years, 6 months and 12 days). However, Mode 1 gives the shortest battery life because of the high value of SF (the sensor node consumes a lot in this case).
Table 8. Comparison between different LoRaWAN modes (using Scenario 2).

Mode
Mode 1 Mode 2 Mode 3

Total Consumed Energy Per Transmission (mJ)
115 14.7 1.2

Sensor Node Autonomy (Month)
1.12 8.2 54.4

6.5. Effect of Microcontroller Frequency in Sensor Node Lifetime
To show the effect of the microcontroller operating frequency fMCU on the sensor node autonomy, we refer to Figure 22 (the voltage supply is set to 3.3 V) [33]. We note that the energy consumption of the node depends on the microcontroller speed (it increases with frequency). In fact, the higher the microcontroller frequency is, the lower the processing time is (meaning that the processing time Tproc( fMCU) decreases) which causes the decrease of the microcontroller time duration TMCU( fMCU),

Sensors 2018, 18, 2104

21 of 23

but the higher the amount of the microcontroller power PON( fMCU) is. Consequently, the node autonomy decreases with increasing the MCU frequency.

Total consumed energy (mJ)

2

1.5

1

4 MHz

8 MHz

32 MHz

0.5

0

1

2

3

(a)

100

75

50

4 MHz

25

8 MHz

32 MHz

0

1

2

3

(b)

Battery life (month)

Figure 22. Total energy consumption for different microcontroller frequencies (a), Battery life (b) (Mode 3, Scenario 2).
7. Conclusions
Energy consumption is one of the most constraining requirements for design and implementation of communicating sensors. In this paper, we present an optimized energy model for sensor nodes using LoRa/LoRaWAN technologies. This model allows the analysis of different LoRaWAN modes and scenarios for a speciﬁc Internet of Things application based on LoRaWAN Class A. In fact, to evaluate the energy consumption of the sensor node, we proposed different LoRaWAN scenarios. We concluded that receiving a transmission acknowledgment consumes an energy amount which reduces the sensor node lifetime. Then, the proposed energy model was evaluated using different LoRaWAN modes: this mode must be optimized to minimize the dissipated energy by the communicating sensor.
The developed model also allows studying the impact of the hardware and the software choices into the node autonomy. We showed through numerical results that the consumed energy changes with different LoRa/LoRaWAN parameters such as spreading factor, coding rate, payload size and bandwidth. Optimizing these parameters is very important to reduce the energy consumption of the sensor node.
The microcontroller operating frequency plays important role in optimizing the sensor node lifetime. Increasing the microcontroller frequency has an effect on the consumed energy which reduces the sensor node autonomy.
Besides, we showed through the optimization study that there is a trade-off between the LoRaWAN communication range, the spreading factor and the transmission power. This optimization study is very interesting to choose and conﬁgure LoRa/LoRaWAN parameters. In fact, the increase of transmission power is more interesting in terms of consumed energy per useful bit than the increase of spreading factor.
Finally, to show the real application case of our energy model, we considered a connected sensor for IoT applications. A speciﬁc application is discussed in this paper which is the monitoring of high voltage electrical network pylons. Using the proposed energy model, the energy consumption of LoRaWAN Class A and the sensor node lifetime can be estimated taking into account an acknowledgment transmission.

Sensors 2018, 18, 2104

22 of 23

In future works, this energy model could be used in power management algorithms for communicating sensor powered by energy harvesting sources in order to maximize the sensor node lifetime.
Author Contributions: T.B. and J.-F.D. developed the energy model for the sensor node. T.B., J.-F.D. and J.-J.C. studied LoRa/LoRaWAN characteristics and developed corresponding results. R.J. and G.A. contributed to results evaluation. All authors participated to write and correct the paper.
Funding: This research received no external funding.
Acknowledgments: This work was funded by a resourcing project CEA Tech in the region of Pays de la Loire, in partnership with IETR laboratory, CEA Leti and Eolane. I would like to acknowledge the CEA project managers: David Moussaud and François Nepveu and the IETR members Marc Brunet and M. Guillaume Lirzin for their appreciative helps and supports.
Conﬂicts of Interest: All authors declare no conﬂict of interest.
References
1. Terrassona, G.; Brianda, R.; Basrourb, S.; Arrijuriaa, O. Energy Model for the Design of Ultra-Low Power Nodes for Wireless Sensor Networks. Procedia Chem. 2009, 1, 1195–1198. [CrossRef]
2. Moises, N.O.; Arturo, G.; Mickael, M.; Andrzej, D. Evaluating LoRa Energy Efﬁciency for Adaptive Networks: From Star to Mesh Topologies. In Proceedings of the IEEE 13th International Conference on Wireless and Mobile Computing, Networking and Communications (WiMob), Rome, Italy, 9–11 October 2017.
3. Culler, D.; Estrin, D.; Srivastava, M. Overview of Sensor Networks. IEEE Comput. 2004, 37, 41–49. [CrossRef] 4. Dupe, V.; Terrasson, G.; Estevez, I.; Briand, R. Autonomy constraint in microsensor design: From decision
making to energy optimization. In Proceedings of the IEEE International Conference on Green Computing and Communications, Besancon, France, 20–23 November 2012; pp. 647–650. 5. Lossec, M. Micro-kinetic generator: Modeling, energy conversion optimization and design considerations. In Proceedings of the 15th IEEE Mediterranean Electrotechnical Conference, Valletta, Malta, 25–28 April 2010; pp. 1513–1521. 6. Oliveira, R.; Guardalben, L.; Sargento, S. Long Range Communications in Urban and Rural Environments. In Proceedings of the IEEE Symposium on Computers and Communications Conference (ISCC), Heraklion, Greece, 3–6 July 2017. 7. Elodie, M.; Mickael, M.; Roberto, G.; Andrzej, D. Comparison of the Device Lifetime in Wireless Networks for the Internet of Things. IEEE Access 2017, 5, 7097–7113. 8. Martin, B.; Utz, R. LoRa Transmission Parameter Selection. In Proceedings of the 13th International Conference on Distributed Computing in Sensor Systems, Ottawa, ON, Canada, 5–7 June 2017; pp. 27–34. 9. Oratile, K.; Bassey, I.; Adnan, M. IoT Devices and Applications based on LoRa/LoRaWAN. In Proceedings of the IEEE Industrial Eletronics Society, IECON, Beijing, China, 29 October–1 November 2017; pp. 6107–6112. 10. Talha, B.; Mehmet, A.; Muhammed, A. LoRaWAN as an e-Health Communication Technology. In Proceedings of the IEEE 41st Annual Computer Software and Applications Conference, Turin, Italy, 4–8 July 2017; pp. 310–314. 11. Augustin, A.; Yi, J.; Clausen, T. A study of LoRa: Long range low power networks for the Internet of Things. Sensors 2016, 16, 1466. [CrossRef] [PubMed] 12. Haxhibeqiri, J.; Van den Abeele, F.; Moerman, I.; Hoebeke, J. LoRa Scalability: A Simulation Model Based on Interference Measurements. Sensors 2017, 17, 1193. [CrossRef] [PubMed] 13. Nolan, K.E.; Guibene, W.; Kelly, M.Y. An evaluation of low power wide area network technologies for the Internet of Things. In Proceedings of the IEEE International of Wireless Communications and Mobile Computing Conference (IWCMC), Paphos, Cyprus, 5–9 September 2016; pp. 440–444. 14. Terrasson, G.; Liaria, A.; Briand, R. System Level Dimensioning of Low Power Biomedical Body Sensor Networks. In Proceedings of the Faible Tension Faible Consommation Conference (FTFC), Monaco, France, 4–6 May 2014. 15. Terrasson, G.; Briand, R.; Basrourb, S; Dupea, V. A Top-Down Approach for the Design of Low-Power Microsensor Nodes for Wireless Sensor Network. In Proceedings of the 2009 Forum on Speciﬁcation & Design Languages (FDL), Sophia Antipolis, France, 22–24 September 2009.

Sensors 2018, 18, 2104

23 of 23

16. Mare, S.; Vladimir, D.; Cvetan, G. Energy Consumption Estimation of Wireless Sensor Networks in Greenhouse Crop Production. In Proceedings of the IEEE EUROCON 17th International Conference on Smart Technologies, Ohrid, Macedonia, 6–8 July 2017; pp. 870–874.
17. Phui, S.C.; Johan, B.; Chris, H.; Jeroen, F. Comparison of LoRaWAN Classes and their Power Consumption. In Proceedings of the IEEE Symposium on Communications and Vehicular Technology (SCVT), Leuven, Belgium, 14 November 2017.
18. Neumann, P.; Montavont, J.; Noël, T. Indoor deployment of low-power wide area networks (LPWAN): A LoRaWAN case study. In Proceedings of the IEEE 12th International Conference onWireless and Mobile Computing, Networking and Communications (WiMob), New York, NY, USA, 17–19 October 2016; pp. 2–9.
19. Mikhaylov, K.; Petajajarvi, J. Design and implementation of the plug-play enabled ﬂexible modular wireless sensor and actuator network platform. Asian J. Control 2017, 19, 1393–1411. [CrossRef]
20. Johnny, G.; Patrick, V.T.; Jo, V.; Hendrik, R. LoRa Mobile-To-Base-Station Channel Characterization in the Antarctic. Sensors 2017, 17, 1903. [CrossRef] [PubMed]
21. Casals, L.; Mir, B.; Vidal, V.; Gomez, C. Modeling the Energy Performance of LoRaWAN. Sensors 2017, 17, 2364. [CrossRef] [PubMed]
22. Taouﬁk, B.; Jean-François, D.; Jean-Jacques, C.; Randa, J.; Guillaume, A. Energy consumption modeling for communicating sensors using LoRa technology. In Proceedings of the IEEE CAMA Conference, Västerås, Sweden, 3–6 September 2018; pp. 1–4.
23. Wixted, J.; Kinnaird, P.; Larijani, H.; Tait, A.; Ahmadinia, A.; Strachan, N. Evaluation of LoRa and LoRaWAN for wireless sensor networks. In Proceedings of the IEEE SENSORS, Orlando, FL, USA, 30 October–3 November 2016; pp. 1–3.
24. Nuttakit V.; Panwit,T.; Chotipat, P. Experimental Performance Evaluation of LoRaWAN: A Case Study in Bangkok. In Proceedings of the IEEE 14th International Joint Conference on Computer Science and Software Engineering (JCSSE), Nakhon Si Thammarat, Thailand, 12–14 July 2017; pp. 1–4.
25. AN1200.22 LoRa Modulation Basics; SEMTECH Document. Available online: https://www.semtech.com/ uploads/documents/an1200.22.pdf (accessed on 29 June 2018).
26. Alexandru, L.; Valentin, P. A LoRaWAN: Long Range Wide Area Networks Study. In Proceedings of the International Conference on Electromechanical and Power Systems (SIELMEN), Iasi, Romania, 11–13 October 2017; pp. 417–420.
27. Albert, P.; Florian, H. Practical Limitations for Deployment of LoRa Gateways. In Proceedings of the IEEE Instrumentation and Measurement Society, Naples, Italy, 27–29 September 2017; pp. 1–5.
28. Jonathan S.; Joel, P.; Rodrigues, C. LoRaWAN: A Low Power WAN Protocol for Internet of Things: A Review and Opportunities. In Proceedings of the Computer and Energy Science (SpliTech), Split, Croatia, 12–14 July 2017; pp. 1–5.
29. SX1272 Development Kit User Guide; SEMTECH Document. Available online: https://www.semtech.com/ uploads/documents/sx1272ska_userguide.pdf (accessed on 29 June 2018).
30. LoRa Speciﬁcations; LoRa Alliance. Available online: https://www.rs-online.com/designspark/relassets/ds-assets/uploads/knowledge-items/application-notes-for-the-internet-of-things/LoRaWAN% 20Speciﬁcation%201R0.pdf (accessed on 29 June 2018).
31. Waspmote LoRa 868MHz 915MHz SX1272 Networking Guide. Available online: http://www.libelium.com/ downloads/documentation/waspmote_lora_868mhz_915mhz_sx1272_networking_guide.pdf (accessed on 29 June 2018).
32. BMA220 Digital, Triaxial Acceleration Sensor Data Sheet. Available online: http://image.dfrobot.com/image/ data/SEN0168/BMA220%20datasheet.pdf (accessed on 29 June 2018).
33. STM32L073x8 STM32L073xB STM32L073xZ Data Sheet; ST Microelectronics Document. Available online: https://www.st.com/resource/en/datasheet/stm32l073v8.pdf (accessed on 29 June 2018).
34. Alexandru, I.P.; Usman, R.; Parag, K.; Mahesh, S. Does Bidirectional Trafﬁc Do More Harm Than Good in LoRaWAN Based LPWA Networks? In Proceedings of the IEEE GLOBECOM, Singapore, 4–8 December 2017; pp. 3–5.
c 2018 by the authors. Licensee MDPI, Basel, Switzerland. This article is an open access article distributed under the terms and conditions of the Creative Commons Attribution (CC BY) license (http://creativecommons.org/licenses/by/4.0/).

