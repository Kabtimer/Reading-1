Wireless Pers Commun DOI 10.1007/s11277-016-3697-7
Link Quality Estimation for Adaptive Data Streaming in WSN
T. Jayasri1 • M. Hemalatha2
Ó Springer Science+Business Media New York 2016
Abstract In an industrial environment, reliable data transmission between wireless sensor nodes is a challenging factor, because the link quality is constantly degraded by industrial EM noise and inter-technology interference. Data loss as a result of massive transmission over such degraded link signiﬁcantly affects the network lifetime. Therefore, this work proposes link quality based adaptive data streaming as a solution for effective deployment of low power Zigbee. Initially to determine the quality using RSSI and LQI indicator, an enhanced link quality estimation technique (ELQET) is designed with an intuitive combination of the Kalman ﬁlter and fuzzy logic. The quality score returned by fuzzy utilizing four efﬁcient link metrics PRR, ASNR, ALQI, and SA is further smoothened with exponential weighted moving average ﬁlter for stability. Consequently the estimated quality is categorized into good/poor quality to stream data at high/low transmission rate respectively between the LPC2148s via CC2550 transceiver. Here, two contrasting RSSI and LQI data sets are furnished as input to ELQET and categorized into good link with quality of about 61 % and poor link with a quality of about 50 %. The straight forward low computation technique is WSN propitious and exhibits high performance with RMSE of 0.0133. The environment adaptive data streaming enhance the quality of transmission accompanied by reducing energy and data loss.
Keywords Wireless sensor nodes Á Link quality estimation Á Kalman ﬁlter Á Fuzzy logic Á Received signal strength indicator (RSSI) Á Link quality indicator (LQI)
& M. Hemalatha mkhema@yahoo.com T. Jayasri jayasri5591@gmail.com
1 Tata Consultancy Services (TCS), Chennai, Tamil Nadu, India 2 Department of Electrical and Computer Engineering, King Abdulaziz University, Jeddah,
Kingdom of Saudi Arabia
123

T. Jayasri, M. Hemalatha
1 Introduction
WSN recent reliable enhancement in terms of power efﬁciency, wireless interaction, reduced size, and computing technologies has projected its deployment in a stressful industrial environment where efﬁcient monitoring and transmission of critical parameters plays an important role. Industrial applications, mainly involve monitoring environment and machineries for controlling and maintenance purpose. These economically efﬁcient wireless sensor nodes are installed in Radio frequency (RF) rich industrial environment to monitor critical parameters from locations which are unreachable.
These applications require affordable, easily installable, long device life time, and reliable interaction for conveying measured parameters efﬁciently. These requirements have naturally opted IEEE802.15.4 technology for industrial applications. Among available communication standard Zigbee speciﬁcations are widely used in WSN due to their ﬂexibility in terms of resource. Zigbee with physical and MAC layer deﬁned by IEEE 802.15.4 standard gives less complex circuit and consumes low power for transmitting data at rate of 250 kbit/s in 2.4 GHz ISM frequency band. The frequency bands of Zigbee being shared by other technologies like IEEE 802.11, Bluetooth, and microwave may also cause inter technology interference. The low power wireless technology is highly affected by moving parts and metallic infrastructure when employed for monitoring in an industrial environment.
Because Zigbee radios are generally designed with low cost, low power, and, less complex circuit suitable for customer grade applications. In order to make use of this cost effective solution for industrial environment the link quality must be investigated by monitoring, channel characteristics and evaluating quality metrics to determine the quality of links. Among the node activities like sensing, processing, and transmission the power consumed for communication is far more when compared to others, so the network reliability is highly inﬂuenced by device lifetime. Network reliability, in particular, the link reliability should be efﬁcient in order to balance trade off between energy consumption [1] and reliable data transmission. To extend the lifetime of a network it is necessary to reduce the energy spent in communication by reducing unnecessary retransmissions which occur as a result of packet loss over low quality links. Data streaming based on estimated link quality will optimize the data transmission in RF rich industrial environments. This work designs a simple, low cost link quality estimation technique suitable for resource constrained WSN using RSSI and LQI hardware based link quality metrics to estimate the link quality in industrial environment, and implements data streaming at different baud rates based on estimated quality for proper handling of link through error free communication. Link quality estimation helps to identify the reliability of the link so that data can be streamed in such a way that reduces packet loss and retransmission, which in turn extends the network lifetime.
2 Literature Survey
Wireless sensor network gathers large amount of measured critical data in an RF rich industrial environment and careful exchange of this huge data between nodes occur at the cost of energy due to link quality degradation. The link quality must be good for critical industrial applications as they require sensor nodes to accurately measure the environment and communicate these data to other nodes without error. But due to its design of low
123

Link Quality Estimation for Adaptive Data Streaming in WSN
power for transmission the channel is affected by several factors. The channel is interfered by environmental noise, blockage due to infrastructure, distortion and degradation due to multipath, electromagnetic (EM) noise from machineries, and other communication technologies. The increase in number of IEEE 802.15.4 and IEEE 802.11 node in an IEEE 802.15.4 network environment causes interference and considerably reduce the throughput [2] of IEEE 802.15.4 nodes due to packet loss from collision. The packet loss [3] in IEEE 802.15.4 due to interference of coexisting technologies is estimated in a home environment. The Bluetooth interference in 2.4 GHz results in Packet Error Rate (PER) of 4 %, which is tolerable but cannot be neglected due to FHSS. The proper channel selection in WSN can signiﬁcantly reduce the impact of IEEE 802.11b by achieving the PER of less than 10 %. The microwave interference gives PER about 8 % and reduces with increase in distance. If cordless telephones use Direct Sequence Spread Spectrum (DSSS), the interference can be considerably reduced through proper channel selection. The performance degradation [4] in the network due to interference caused by coexisting systems in an industrial environment is measured in terms of packet error rate. Bluetooth impact is far less when compared to IEEE 802.11 which with 10 % duty cycle causes signiﬁcant degradation. The impact of microwave interference cause delays between retransmission, which in turn affects PER. Interference made by these parameters is time varying, linkspeciﬁc and also depends on the location in which they are deployed. So, it is necessary to estimate the link quality to achieve quality monitoring in industries. There are many link quality assessments using cheap hardware metrics were carried out for various purposes.
Radio channel characteristics like Received signal strength indicator (RSSI), Link quality indicator (LQI), and PER were measured under different factory environment to investigate their variations with respect to locations. This study shows that the good link assessment before gray zone can be done in real time using RSSI and LQI, where average LQI exhibits high correlation [5] coefﬁcient than RSSI over PER. RSSI and LQI link quality metrics having direct impact on Packet reception ratio (PRR) is evaluated to determine the link quality and the transmission power is adjusted [6] accordingly as the variation of correlation between power and quality of the link is less overtime.
The technique takes into account about lost packets [7] by using window means which sums up the received packet data about Signal to noise ratio (SNR) and LQI, and divides it by the number of packets transmitted at the sender side. Distance of the window means [8] value from origin is calculated and link quality is classiﬁed based on the calculated distance. RSSI and LQI characteristics of link between nodes deployed in underground mines are measured to identify the link quality. The log normal shadowing is used to design, propagation model which identiﬁes high correlation [9] coefﬁcient of 0.69 between PRR and LQI than RSSI values. Good link quality is identiﬁed with RSSI greater than -85 dBm. Redundant information between link quality indicators is utilized to estimate the link quality and the linear part of system is designed using Kalman ﬁlter for its fast converging property.
Simple channel capacity estimation technique based on SNR and LQI is proposed for easy implementation in resource restricted WSN. Several experiments were done to create lookup table [10] to map SNR to bit error rate and also regression model created for LQI to corresponding PER. The distances between pairs of nodes are estimated using RSSI/LQI metrics and the fuzzy logic [11] along with the transferable belief model is used to ﬁnd the exact distance having maximum likelihood. Fuzzy based estimation [12] combines PRR, stability, SNR, and asymmetry link metrics using if then fuzzy rule and gives the link’s membership with respect to good link fuzzy subset. It achieves greater performance in terms of stability and reliability. A software based RadiaLE tool [13] is designed to
123

T. Jayasri, M. Hemalatha
compare the performance of different quality estimators and found, fuzzy estimator among considered link quality estimators to be best in terms of reliability and stability. Hence, this work makes use of the Kalman ﬁlter and fuzzy logic for simple and accurate estimation of link quality with low computation cost suitable for resource constrained WSN.

3 Low Power Link Features

Low power features of WSN require well organized power management. Since the energy spent over communication is comparatively more, the link should guarantee the transmission by reducing the energy spent improvidently in retransmissions over poor quality links due to noise and interference. The low power radios used for communication are vulnerable to spatial and temporal variations.

3.1 Spatial and Temporal Feature

The WSN transmission range is classiﬁed into three regions as connected region, disconnected region and transitional region. Poor quality links insufﬁcient for communication belongs to disconnected region and good quality links with a correct reception ratio of 100 % belongs to connected region. The transitional region is the one where the communication needs to be optimized for improving overall WSN performance.
The transitional region is associated with links having a packet reception [14] rate of less than 100 % because the low power links lose their stability due to the inﬂuence of the environment and the link quality drops correlation with distance. Thus the node far away from sink than the near one will have good link property. The link quality, biased by environmental issues ﬂuctuates dynamically with respect to time. The link becomes unstable so periodic evaluation of link over timescale will determine its state for adaptive transmission.

3.2 Signal Propagation Model

The log normal shadowing is widely used model for representing the propagation of signal in the medium. Thus the actual received signal strength can be represented as shown in Eq. (1)

RSSA ¼ Ptx À P ðdoÞ À 10n log ðd/doÞ þ Xr

ð1Þ

where, Ptx is the transmit power, P (do) is the Path loss associated with reference distance, n is the exponent of path loss, Xr is Gaussian random process with zero mean and standard deviation r, and RSSA is actual received signal strength.

4 Link Quality Estimator
Link quality estimation (LQE) is deﬁned as low power link characterization via estimation by reproducing the variation and packet loss associated with link to enhance network performance by reducing [15] energy intake, packet loss, and latency. Link quality estimation (LQE) is widely used for routing, retransmission, and topology control. The link unreliability is caused by three major factors they are the environment as background noise
123

Link Quality Estimation for Adaptive Data Streaming in WSN

due to multipath effect, the coexisting network causing interference, and the hardware radio transceiver as internal noise due to distortion of the signal. Thus the degraded received signal strength is given (2) by

RSSA ¼ Ptx À P ðdoÞ À 10n log ðd/doÞ þ Xr þ N

ð2Þ

This degradation depends on the environment or location in which the nodes are deployed. Thus the characterization of link quality in sensor network is challenging due to interference and frequent variations found in the channel. There are two types of link quality estimators, they are software based estimators and hardware based estimators [16]. This work makes use of hardware based metrics due to low computation and quick assessment.

4.1 Hardware Based LQI

Every IEEE 802.15.4 congruent device furnishes hardware based quality indicator which exempliﬁes the wireless link quality. As the indicators are directly available in received packets there is no need of using additional probe packets. Hardware based LQE offer quick and economical way to categorize, link into good/poor. Each of the quality metrics furnishes unique knowledge upon the link state, but nevertheless offers complete representation of link quality. RSSI, LQI, and SNR are the hardware indicators utilized in this work for efﬁcient and accurate evaluation of link quality using enhanced link quality estimation technique shown in the Fig. 1.

5 Enhanced Link Quality Estimation Technique
5.1 Inﬂuence of RSSI and LQI Over PRR
Among available link quality indicators PRR is the best direct link metric that represents the goodness of link. It is deﬁned as the number of packets received fruitfully over the total number of packets transmitted. PRR value is generally retrieved over a long time period statistically because the granularity is less when evaluated over reduced data set and hence not appropriate for quick assessment. Similarly, the PER inverse of PRR depends on history of packet transmission, so it takes awhile to converge and not accurate for the rapidly ﬂuctuating link. Therefore, instead of computing PRR directly the other metrics having a high correlation with PRR can be used. Average RSSI shows correlation coefﬁcient of 0.433 over the packet error rate and average LQI shows correlation coefﬁcient of 0.731 over Packet error rate [5] so it could be good aspirants for real time link valuation.

Fig. 1 Enhanced link quality estimation technique

123

T. Jayasri, M. Hemalatha
Fig. 2 Estimated results of original RSSA using Kalman ﬁlter. a RSSA in good quality link and b RSSA in poor quality link
Where PRR and PER is related using an equation Packet error ratio = 1 - PRR. So RSSI and LQI having good correlation factor with PRR can be efﬁciently utilized as best binary quality metrics. The LQI bond with PRR is very strong, so it acts as a better threshold to reach close to accurate PRR instead of computing PRR directly (Fig. 2). 5.2 Extracting Linear RSS from Raw Non-linear RSSI All Zigbee based device offers RSSI to higher layer processing as an indicator of signal strength. RSSI measurements are used for link quality determination, PRR model, localization, and power control in transmission [17]. Two types of measurements gained from the RSSI value they are the signal strength of receiving data when transmission takes place (RSSIS) and the strength of noise in the observed channel when no transmission takes place (RSSIN). This measurement of noise contains both inquired environment and internal
123

Link Quality Estimation for Adaptive Data Streaming in WSN

noise. The received signal strength indicator RSSIS is connected to RSSA and noise as shown in Eq. (3)

Raw RSSIS ¼ Ptx À P ðdoÞ À 10n log ðd/doÞ þ Xr þ N

ð3Þ

Raw RSSIS ¼ RSSA þ N

ð4Þ

where, N is the sum of the internal and external noise and raw RSSIS is received raw RSSI of signal. Raw RSSIS is the sum of the actual received signal strength and noise due to environment and measurement. The response curve of receiving raw RSSIS values provided by IEEE 802.15.4 radio shows the presence of non-linearity and wide tolerance range of ±6 dB from actual RSS [18]. On computing SNR from raw RSSI using Eq. (5), the SNR decreases with increase in PRR because the equation is tainted easily by nonlinearities in raw RSSI as the signal is subjected to multipath effects and fading.

SNR ¼ raw RSSIs À RSSIN

ð5Þ

The RSSI response plot is speciﬁc to radio and does not depend on device hardware, so

a common model can be built for all devices to reduce inaccuracies. Therefore, the actual

signal strength needs to be extracted from raw RSSIS for accurate estimation, but the raw RSSI curve with respect to the number of packets in the transitional region of increasing

noise level exhibits non-monotonic areas. The non-monotonic nature shows non-linearity

between raw RSSIS and actual RSS as it produces many to one mapping between them. Thus, the function relating the RSSA and noise with raw RSSIS becomes non-linear. This is because the raw RSSIS is affected by multipath distortion and fading effects so received raw RSSIS is inaccurate and not in suitable form to retrieve the actual signal strength.
The direct use of non-linear RSSIs is noisy and results in an erroneous estimation of link quality, so to overcome the non linearity the consequence of environmental noise should be

mitigated for proper estimation using the following equation which relates raw RSSIS, and

RSSIN with actual RSS using non-linear function (6)





RSSm ¼ 10 Ã log10 10ðRaw RSSIS=10Þ À 10ðRSSIN=10Þ

ð6Þ

where the RSSIN is observed channel noise due to the environment when no transmission takes place plus internal noise due to transceiver and resume is the linear RSS with measurement noise. The RSSm is computed over 80 samples measured in time window, where the RSSm values obtained during the computational analysis of good and poor link classiﬁcation is shown. Though the RSSm is in a suitable form, the value is not the exact one as it has some measurement noise due to hardware, so it requires simple and efﬁcient ﬁltering process to improve the accuracy of quality estimation. Here the Kalman ﬁlter is efﬁciently designed to remove the measurement noise from RSSm to recover RSSA.

5.3 Kalman Filter Designed for RSS

The received signal strength (RSS) variation is considerably more even in a small time period and the variation is signiﬁcantly high [19] when no line of sight exists between transmitter and receiver pair. Hence the Kalman ﬁlter can be used to smooth the RSS values, and remove process and measurement noise to ﬁnd the actual RSS from raw RSS for accurate link estimation. The computed RSSm with measurement error over window n is given as input to Kalman ﬁlter to estimate actual RSSA.
The RSS behaviour is designed as

123

T. Jayasri, M. Hemalatha

Xtþ1 ¼ Xt þ Wt

ð7Þ

The RSS measurement error is designed as

Zt ¼ Xt þ Vt

ð8Þ

where Xt?1 are the actual received signal strength (RSSA) calculated at time t ? 1 and Zt is the input received signal strength with measurement error RSSm acquired from non-linear RSSI. The Gaussian random variable is used for modelling the process noise Wt with covariance Q. The measurement noise is caused by a wide tolerance range, hardware error, and manufacturing defect. It is also modelled with Gaussian random variable with covariance R.
The prediction and correction step of the Kalman ﬁlter is given by the following equations:
The Priori state estimation as Xpriorit = A*Xposteriorit-1; The Priori error covariance estimation as Ppriorit = A*AT*Pposteriorit-1 ? Q; The Kalman gain given as Kt = HT* Ppriorit/H*HT*Ppriorit ? R); The Posterior error covariance estimation as Pposteriorit = Ppriorit*(1 - H*kt); The Posterior state estimation as Xposteriorit = Xpriorit ? kt*(Zt - H* Xpriorit); Kalman ﬁlter takes into account the varying nature of received signal strength by computing priori and posterior variance for error at each time to track and update the evaluation of RSS accordingly. The iterative nature of Kalman ﬁlter reduces mean square error in the modelled process if noise parameters Wt and Vt are modelled with Gaussian random variables. As the value of Q will generally affect only the time of convergence, the Q is calculated as the variance of Xt over group transmission. Similarly R is the variance estimated over noise data and value of Q is assigned as the initial value of Pposteriorit-1. The error covariance obtained during the estimation reduces immediately and arrives at constant value of 0.746 in Fig. 3a and 0.724 in Fig. 3b. Here the value of Q and initial value of P are deﬁned using variance of signal strength therefore the convergence time of covariance is quick and also able to accurately trace input linear RSSm values. The Posterior state estimate gives the actual RSSA values over the window N by removing noise and smoothing data against the transient ﬂuctuations. Thus the actual RSS is estimated as shown in the Fig. 2 using Kalman ﬁlter. After extracting RSSA from Kalman ﬁlter, Signal to noise ratio (SNR) is computed by subtracting channel noise due to environment from RSSA as shown in Eq. (9)

SNR ðdBmÞ ¼ RSSA À Noise floor

ð9Þ

Noise ﬂoor can be measured by observing the channel when no transmission takes

place. This SNR is calculated over the window of packets and consequently mean SNR is

computed for accurate link estimation using (10)

SNR

¼

PN
i¼1

SNRi

ð10Þ

N

123

Link Quality Estimation for Adaptive Data Streaming in WSN
Fig. 3 Posterior error covariance. a Error covariance of good link estimation and b Error covariance of poor link estimation
where SNRi is the ratio identiﬁed from RSS derived over every received packet and N is the number of packets in estimation window.
Estimation based on signal strength alone is not sufﬁcient because the RSSI readings are heavily affected by temperature and humidity in addition to path loss and interference in that environment as a cause of above mentioned non-linearity.
So, quality estimation based on RSSI alone will limit the estimation accuracy. The grouping of RSSI along with LQI for estimation will provide accurate results. This complementary amalgamation of RSSI and LQI is very attractive since RSSI is capable of providing logical link estimate and LQI is capable of providing precise link estimate with low estimation cost and delay. 5.4 Direct Estimation of PRR from LQI The Link quality indicator is another directly available off the shelf hardware metric provided by every IEEE802.15.4 consistent device for expressing the wireless link quality. Link quality indicator represents the present quality of the signal received. It is based on how simply the demodulation of received signal strength is performed by gathering the error in magnitude while comparing the constellation of standard and received signal upon 64 symbols next to sync word. The LQI values are inﬂuenced by modulation construct and the range is restricted to decimal 0–255. LQI when compared to RSSI exhibits a higher correlation with PRR so LQI can be efﬁciently used to estimate PRR of the link. Since
123

T. Jayasri, M. Hemalatha

instantaneous LQI is not able to capture the characteristics of [9] rapidly ﬂuctuating channel, the mean LQI is estimated using the Eq. (11) for improving the accuracy.

LQI

¼

PN
i¼1

LQIi

ð11Þ

N

where, LQIi is the indicator of every received packet. Average LQI calculated over the window N is mapped to corresponding PER using
lookup table LQI versus PER generated by Fei Qin et al. as a straightforward method shown in Fig. 4. This straight forward estimation without any additional computation is highly suitable for resource constrained WSN. The PER obtained from the lookup table can be further used to compute BER using the Eq. (10) with known packet length.

BER ¼ 1 À ð1 À PERÞð1=CÞ

ð12Þ

where c = 8*Packet length, with maximum length given as c = 8*133 = 1064 bits. Finally the Packet reception rate can be computed from PER using PRR = 1 - PER. Thus the estimated PRR from average LQI is more accurate for link quality estimation.

5.5 Stability Attribute

Data transmitted over steady link is more important than good/poor link as it reduces packet loss and avoids retransmission. So the link quality estimation technique used to identify good/poor link must also include the stability attribute for perfect estimation. The stability attribute (SA) represents the steadiness of link and helps to identify stable and unstable link [11]. Thus the stability is measured by estimating the variance of PRR as given in (14).

Fig. 4 LQI versus PER
123

Link Quality Estimation for Adaptive Data Streaming in WSN

PRR

¼

PN
i¼1

PRRi

ð13Þ

N

SA

¼

PN
i¼1

ri2

N

ð14Þ

where, ri ¼ PRR À PRRi Here, the PRR is derived for each instantaneous LQI and variance is computed over
window N of PRR. The variation is signiﬁcantly lower if the link is good.

6 Amalgamate Different Link Quality Metrics
Link quality being affected by several factors the quality assessment is highly inﬂuenced when combining different link metrics than using single metric. Calculated average SNR, average LQI, PRR, and stability attribute are used to evaluate link quality. Previous research work shows contradictory in combining the link metrics. The degree to which the estimated metrics exhibit inﬂuence on evaluating the link quality is fuzzy to measure. Some uncertainties present in combining the knowledge space of link metrics to determine the link quality, so heuristic techniques can be used to resolve this uncertainty.
PRR based estimators overestimate the link quality without considering the retransmission and RNP based estimators underestimate without considering the correctly received packet. A compromised solution between these two to resolve uncertainty is obtained using a score based fuzzy estimator. The heuristic technique is capable of amalgamating the redundant and contradictory fuzzy knowledge space of metrics to evaluate the link quality accurately by providing uniform distribution in link quality estimate. In addition, fuzzy estimator is stable and robust against transient ﬂuctuations [12] in low power link due to environmental factors. Fuzzy considers various link properties to present an overall link characterization and achieves ﬁne link classiﬁcation using membership function.
6.1 Fuzzy System Design for Link Quality Estimation
Fuzzy system achieves greater performance in terms of stability and reliability. The fuzzy system is designed with four inputs, namely PRR, average SNR, average LQI, and stability attribute and one output link quality. Fuzziﬁcation is the process of converting the crisp controller input values to appropriate linguistic fuzzy terms which deﬁnes the activities of input variables. It combines and builds correlation between the linguistic quality metrics and the output link quality using fuzzy rule given in (15).

If ðPRR is highPRRÞ and ðAverage SNR is highSNRÞ and ðSA is lowSAÞ and ðAverage LQI is highLQIÞ then ðLink quality output is goodÞ ð15Þ
where highPRR, highSNR, lowSA, and highLQI represents the linguistic values of fuzzy inputs PRR, average SNR, stability attribute, and average LQI. A triangular membership function is used to deﬁne input linguistic terms as it involves easy formula and low computation suitable for implementing real time. lPRR, lASNR, lSA, and lALQI are

123

T. Jayasri, M. Hemalatha

membership functions appearing in high PRR, high average SNR, lowSA, and high LQI as shown in Fig. 5. The given rule is converted into the fuzzy equation for measuring the quality using AND operator as shown below

llinkðlÞ ¼ a Á minðlPRRðlÞ; lÀASNRðÞ; lSAðlÞ; lALQIðlÞÞ

Á

ð16Þ

þ ð1 À aÞ Á mean lPRRðlÞ; lASNRðlÞ; lSAðlÞ; lALQIðlÞ

where, llink (l) gives the membership value of the link l in good quality fuzzy subset in range [0 1] in which 0 being poor and 1 being a good quality link. The parameter a with range 0–1 gives a better estimate when assigned 0.6. The threshold values used in the function are deﬁned based on the application requirement.
PRR being the best indicator of link with a value below 0.25 is considered as a value that does not belong to higher and value close to 1 has a high membership value in higher which represent the goodness of link in terms of high packet reception rate. Average SNR capable of representing the steady signal strength on having value below 1 is considered to be out of highSNR and with values close to 30 ? are considered to have MF with value 1 in highSNR. Stability attributes which have the ability to classify, link as stable/unstable with value above 0.6 is considered out of lowSA and value close to 0 is considered to have MF of 1 with lowSA.
The average LQI shows a better link estimation than instantaneous LQI so mean LQI is calculated for window N which gives a precise link estimate. The value of average LQI below 65 has membership value of zero in highLQI and value close to 255 has a membership value of 1 in highLQI. Thus, when the PRR lower than ﬁrst threshold, SNR lower than the second threshold, SA near to zero, and LQI below the ﬁrst threshold, then the channel quality is poor because though the link is stable PRR is poor due to low SNR.
If PRR is greater than the second threshold, SNR lower than second, SA is near to 1, LQI below second, and then the channel quality is poor because though PRR is high the link is not stable. When PRR is high, SNR is greater than ﬁrst threshold, SA near to zero and LQI is near to second threshold the channel quality is good. The Fuzzy link quality estimates the link associated with good quality fuzzy subset in output and returns, membership degree as a result of evaluation using fuzzy rule as given in Table 1.
Thus, the Link Quality Evaluated for the link l is given as,

LQEðlÞ ¼ 100 Á llinkðlÞ

ð17Þ

LQE (l) gives link quality in %. The output of system is the quality of link expressed in percentage with 100 % being the best link with no interference and noise. The Exponential weighted moving average ﬁlter is applied on the estimated LQE (l) with k = 0.8 for smoothing the value using the Eq. (18)

SLQE ðlÞ ¼ k Ã SLQE ðl À 1Þ þ ð1 À kÞ Ã LQEðlÞ

ð18Þ

Fig. 5 Deﬁned membership functions lPRR, lASNR, lSA, and lALQI of fuzzy system
123

Link Quality Estimation for Adaptive Data Streaming in WSN

Table 1 Fuzzy estimated quality score for different combinations of link metrics

PRR
0.581 0.481 0.694 0.869 0.744 0.881 0.869 0.931 0.969 0.831

ASNR
8.75 5.75 13.3 14 11.3 19.3 17.3 20 23.3 20

SA
0.519 0.256 0.506 0.356 0.256 0.156 0.306 0.0813 0.0438 0.0563

ALQI
145 74 148 135 180 212 183 203 190 167

Fuzzy score
0.583 0.5 0.588 0.619 0.608 0.647 0.632 0.654 0.664 0.651

Thus the Smoothened LQE gives ﬁnal estimated link quality. In order to classify the link, minimum and maximum link score is obtained by assigning zero and one as membership values for every fuzzy subset of linguistic variables. Based on the environment, the minimum poor values obtained for PRR, ASNR, SA and ALQI over the link is used to estimate the minimum link quality and similarly the maximum values obtained for PRR, ASNR, SA and ALQI is used to estimate maximum link quality. Thus the estimated minimum and maximum value is used to compute DT.
The threshold DT, thus estimated using (19)

DT ¼ mean ðmin; maxÞ

ð19Þ

Binary classiﬁcation is done to classify the estimated output into two categories as good

and poor link quality by comparing the output with a predetermined threshold as follows.

&

U¼

Good link; SLQE ! DT Poor link; SLQE \DT

As an initial step in this work the link quality is classiﬁcation into two, one is low and other is high quality and therefore threshold DT is used to perform a binary classiﬁcation as good and poor quality link for streaming data at two different rates on these estimated link. Further classiﬁcation can also be done at very low, low, intermediate, high and very high link quality, and based on which data can be streamed at different rates. The rate at which data to be transmitted is determined based on the above estimated link quality.

7 Data Streaming Based on Link Quality
ELQET combines average SNR, average LQI, PRR, and variance of PRR to provide complete link characteristics. Thus the fuzzy combines the knowledge of RSSI and LQI hardware metrics using fuzzy rules accurately for better estimation of link quality. For receiving node, the received RSSI and LQI values over window of data packets is used for estimating the quality of link associated with the transmitter. In this work the above proposed ELQET methodology is simulated with different sets of RSSI and LQI values to crosscheck the efﬁciency of estimation in identifying the link quality.

123

T. Jayasri, M. Hemalatha
The results show an accurate estimation as it considers the imperfectness in both received RSSI and LQI values with respect to the surroundings. After determining the quality, data streaming is performed in such a way to reduce the packet loss and retransmission over poor links. Transmitting at high bit rate over poor quality link results in packet loss which in turn initiates unnecessary retransmission at the cost of increased energy consumption and shortened network lifetime [20]. Link transmitting data at high bit rate is more susceptible to noise and interference in the environment so intuitively the data rate can be reduced in order to decrease the packet loss in noisy poor quality links. Thus the data loss due to fading, noise and interference in an industrial environment can be mitigated by adapting the rate of transmission.
Transmitting bit rate is thus increased when the link quality is good and decreased when the link quality is poor. Sensed parameters are relatively smaller in size so the data can be read perfectly even if the data is transmitted at low bit rate. Therefore bit rate is adapted based on estimated link quality by adjusting the symbol rate called the baud rate. Here the link is classiﬁed as good/poor quality link and data streaming is performed accordingly. The symbol rate of 4800 baud is assigned to poor link quality and symbol rate of 9600 baud is assigned for good link quality. Thus the data streaming based on the estimated link quality at two different data rate is implemented using Zigbee for an industrial scenario.
7.1 Implementation of Adaptive Data Streaming
Data streaming at a different rate is implemented in the boiler plant scenario, where the pressure and water level are continuously monitored using sensors connected with LPC2148 and transmits the data via CC2550 ZIGBEE module every 2 s to the receiving node constructed with LPC2148 and CC2550 module. The receiving node determines the abnormality of data by comparing the received parameters with corresponding threshold values set using keypad.
The receiving node is embedded with the intelligence of instructing the transmitter about the rate at which the transmitter must transmit the parameter to it based on estimated link quality. The receiving node after determining the quality sends a signal to the corresponding transmitter about the rate to which it must switch for further transmission. The transmitter switches to different data rate based on evaluating link quality to achieve loss less transmission in industrial environment using Zigbee.
7.2 Synchronization of Transmitting and Receiving Module
Estimated link quality is given as input to sink node through the keypad and the sink node sends signal to transmitter based on the quality. The sink node instructs the transmitter to switch the data rate to 4800 baud if the estimated link quality is poor and instructs the transmitter to switch the data rate to 9600 baud if the estimated link quality is good. As shown in the Fig. 6, the receiving node is n1 and transmitter is n2. Initially the nodes are assumed to transmit at high data rate as the link quality is good. On receiving poor quality as input, the receiving node which is operating at high baud rate performs two steps, ﬁrst it sends signal to n2 using previously assigned high data rate for intimating n2 to switch the data rate from high to low and secondly it switches its own data rate from high to low. The transmitting node n2 on receiving the signal from n1 switches its data rate from high to low. Thus, both transmitter and receiver synchronize to same data rate of successful data transmission.
123

Link Quality Estimation for Adaptive Data Streaming in WSN

Fig. 6 Transmission rate switching
Consequently, when good quality is given as input to receiving node n1, the receiving node n1 sends signal to n2 for intimating n2 to switch the data rate from low to high so that available bandwidth can be best utilized for transmitting huge data. The transmitting node switches to high data rate and transmits the sensed parameters effectively in noise less link for successful transmission.
Thus the values of measured pressure and water level are transmitted at two different data rates between two LPC2148 microcontrollers based on estimated link quality, where the receiving node compares the received parameters with a predetermined threshold values set using keypad in order to give raise the alarm in case, if any of the parameters exceeds the level of thresholds and also intimates transmitter about the rate at which the data must be delivered to it.
8 Result and Discussion
The proposed link quality estimation technique is tested with different combinations of RSSI and LQI values derived from packets transmitted over the link in noisy and noiseless environment. Parameters derived during the analysis of good and poor link classiﬁcation using ELQET is shown in the Table 2.

Table 2 Experimental results of classiﬁed links

PRR

ASNR SA

ALQI BER

81.94 14.8 21.92 8

0.000178 127

0.000057

68

0.000187 0.001425

Link quality in %
61.078 50

Good/poor link
Good Poor

123

T. Jayasri, M. Hemalatha
Fig. 7 Comparison of RSS estimated by ELQET and simple LQE
Fig. 8 PRR versus window size
Fig. 9 Quality estimated by ELQET
The actual received signal strength computed from RSSI using ELQET shows very smooth variation as shown in the Fig. 7 than the RSS estimated using simple LQE in [19]. In order to ﬁnd out the minimum number of packets required for efﬁcient estimation, quality of the link is estimated by varying window size.
The number of crossing is high with low window size and the crossings become low and stabilized above window of size 60 as shown in Fig. 8. The performance of proposed link
123

Link Quality Estimation for Adaptive Data Streaming in WSN
Fig. 10 Quality estimated by simple LQE
quality estimation technique is computed by comparing the estimated link quality with PRR which being considered as ideal indicator. The enhance LQE quality resulting curve shown in Fig. 9 closely matches with PRR shown in Fig. 8 than the quality estimated using Simple LQE shown in Fig. 10.
Periodically four link metrics are derived from directly measured RSSI and LQI over a window of size 80 and given as input to fuzzy for identifying the quality every 10 min. Thus the estimated quality is classiﬁed for adapting the rate of transmission to overcome the data loss over poor quality link.
The estimation for a period of 100 min is shown in the Fig. 11, where the estimation is repeated every 10 min. From the ﬁgure we can infer that the estimated quality shows low variation with respect to time and hence frequent evaluation of link quality is not essential. This in turn reduces energy consumed for executing the estimation procedure.
The efﬁciency of the proposed technique is revealed by comparing PRR with estimated quality curve, as it shows high resemblance and accuracy when contrasted against other existing techniques.
9 Conclusion
In order to make use of cost effective low power Zigbee based wireless communication for the exchange of critical data between WSN’s deployed in noisy RF rich industrial environment, an effective methodology is needed for transmitting data based on available link quality. In support of identifying the link quality a simple, accurate, and low cost link quality estimation technique suitable for resource constrained [21] WSN is proposed in this novel. In which the inﬂuence of low cost off the shelf hardware metrics RSSI and LQI is optimized in determining the link quality by using Kalman ﬁlter and Fuzzy logic. Here, a methodology is modelled to derive the link indicators like average SNR, average LQI, PRR, and stability factor by reﬁning the noise and other non-linearity associated with link metrics for improving their correlation in determining the link quality. Considering the scarcity of resource in WSN, a lower order Kalman ﬁlter is applied for ﬁltering out the variation of RSSI. Reﬁned and enhanced link indicators are given as input to fuzzy system, which with the capability of effectively combining the indicator knowledge space, produce the link quality. On comparing the proposed link quality estimation technique with other
123

T. Jayasri, M. Hemalatha
Fig. 11 Periodic quality estimation
existing techniques, it offers simple, accurate estimation with low energy consumption, suitable for sensor node and also shows better performance than simply estimate with Root Mean Square Error of 0.0133.
Further, the implementation of quality based streaming at two different rates in boiler plant scenario shows error free transmission at the cost of small latency. Thus the low cost link estimation and reduced packet loss have increased the network lifetime and throughput by preventing retransmission and increasing PRR. The proposed link quality estimation can be used along with higher layer algorithms for good performance as it gives high accuracy at low cost.
References
1. Abdul-Salaam, G., Abdullah, A. H., Anisi, M. H., Gani, A., & Alelaiwi, A. A. (2016). Comparative analysis of energy conservation approaches in hybrid wireless sensor networks data collection protocols. Telecommunication Systems, 61(1), 159–179.
2. Shin, S. Y. (2013). Throughput analysis of IEEE 802.15.4 network under IEEE 802.11 network interference. International Journal of Electronics and Communications (AEU), 67, 686–689.
3. Hong-wei, H., You-zhi, X., Gidlund, M., & Hong-Ke, Z. (2010). Coexistence of 2.4 GHz sensor networks in home environment. The Journal of China Universities of Posts and Telecommunications, 17(1), 9–18.
4. Azimi-sadjadi, B., Sexton, D., Liu, P., & Mahony, M. (2006). Interference effect on IEEE 802.15.4 performance. INSS 2006, Chicago, II.
123

Link Quality Estimation for Adaptive Data Streaming in WSN
5. Tang, L., Wang, K.-C., Huang, Y., & Gu, F. (2007). Channel characterization and link quality assessment of IEEE 802.15.4—compliant radio for factory environments. IEEE Transactions on Industrial Informatics, 3(2), 99–110.
6. Lin, S., Zhang, J., Zhou, G., Gu, L., He, T., & Kovic, J. A. S. (2006). ATPC: Adaptive transmission power control for wireless sensor networks. SenSys’06, Boulder, Colorado, USA.
7. Ding, W., Tang, L., & Ji, S. (2016). Optimizing routing based on congestion control for wireless sensor networks. Wireless Networks, 22(3), 915–925.
8. Boano, C. A., Zuniga, M. A., Voigt, T., Willig, A., & Romer K. (2010). The triangle metric: Fast link quality estimation for mobile wireless sensor networks. In 19th International conference on computer communications and networks (ICCCN), August 2010, ISSN 1095-2055.
9. Chehri, A., & Mouftah, H. (2012). An empirical link-quality analysis for wireless sensor networks. In Proceedings of the 2012 international conference on computing, networking and communications (ICNC), January 30–February 2 (pp. 164–169). Maui, HI, USA.
10. Qin, F., Dai, X., & Mitchell, J. E. (2013). Effective_SNR estimation for wireless sensor network using kalman ﬁlter. Ad Hoc Networks, 11, 944–958.
11. Baccour, N., Koubaa, A., Youssef, H., Jamaa, M. B., do Rosario, D., Alves, M., & Becker, L. B. (2010). F_LQE: A fuzzy link quality estimator for wireless sensor networks. In Wireless sensor networks, 7th European conference, EWSN 2010, Coimbra, Portugal, February 17–19, 2010 (pp. 240–255).
12. Baccour, N., Kouba, A., Jema, M. B., do Rosario, D., Youssef, H., Alves, M., et al. (2011). RadiaLE: A framework for designing and assessing link quality estimators in wireless sensor networks. Ad Hoc Networks, 9, 1165–1185.
13. Chen, Y., & Terzis, A. (2009). Calibrating RSSI measurements for 802.15.4 radios. HINRG technical Report, 2009-10-29.
14. Anisi, M. H., & Abdullah, A. H. (2016). Efﬁcient data reporting in intelligent transportation systems. Networks and Spatial Economics, 16(2), 1–20.
15. Anisi, M. H., Abdul-Salaam, G., Idris, M. Y. I., & Wahab, A. W. A. (2016). Energy harvesting and battery power based routing in wireless sensor networks. Wireless Networks, 1–18.
16. Baccour, N., Koubaa, A., Youssef, H., & Alves, M. (2015). Reliable link quality estimation in lowpower wireless networks and its impact on tree-routing. Ad Hoc Networks, 27, 1–25.
17. Lin, S., Zhou, G., Al-Hami, M., Whitehouse, K., Wu, Y., Stankovic, J. A., et al. (2015). Toward stable network performance in wireless sensor networks: A multilevel perspective. ACM Transactions on Sensor Networks (TOSN), 11(3), 42.
18. Senel, M., Chintalapudi, K., Lal, D., Keshavarzian, A., & Coyle, E. J. (2007). A Kalman ﬁlter based Link quality estimation scheme for wireless sensor networks. IEEE GLOBECOM 2007, 1930-529X.
19. Anisi, M. H., Abdul-Salaam, G., & Abdullah, A. H. (2016). A survey of wireless sensor network approaches and their energy consumption for monitoring farm ﬁelds in precision agriculture. Precision Agriculture, 16(2), 216–238.
20. Jayasri, T., & Hemalatha, M. (2014). Link quality estimation using soft computing technique. MiddleEast Journal of Scientiﬁc Research, 21(1), 158–168.
21. Mahmood, M. A., Seah, W. K. G., & Welch, I. (2015). Reliability in wireless sensor networks: A survey and challenges ahead. Computer Networks, 79, 166–187.
Er. T. Jayasri has received B.E degree from Anna University, TN, India and M.Tech (Embedded Systems) from SASTRA University. Having good number of publications in her earlier career, is now working as system engineer in Tata Consultancy Services, Chennai, India.
123

T. Jayasri, M. Hemalatha Dr. M. Hemalatha is graduated in Electronics and Communication Engineering, post graduated in Information Technology and Ph.D in Broad band Wireless Communication in the year 1997, 2003 and 2012 respectively. She had been associated with SASTRA University, Thanjavur, TN, India, for about 15 years, later as Professor in the department of ECE, Narayana Engineering College, Nellore, AP, India and currently working in Electrical and Computer Engineering Department in King Abdulaziz University, Jeddah, KSA. Having 18? years of teaching experience, has own an Indian patent for her research work, delivered various technical workshops, lectures and conducted aided projects. Her keen interest in wireless communication and baseband signal processing driven to publish more than 30 articles in the national and international conferences and international journals.
123

